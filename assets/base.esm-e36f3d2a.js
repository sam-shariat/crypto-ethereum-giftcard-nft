var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ou(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xo(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){if(this instanceof i){var a=[null];a.push.apply(a,arguments);var s=Function.bind.apply(t,a);return new s}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),r}const Co={},Lo=Object.freeze(Object.defineProperty({__proto__:null,default:Co},Symbol.toStringTag,{value:"Module"})),pn=xo(Lo);var st={},In={get exports(){return st},set exports(e){st=e}};typeof Object.create=="function"?In.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:In.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}};var nr={},Mo={get exports(){return nr},set exports(e){nr=e}},jn;function gn(){if(jn)return nr;jn=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(A,N,W){return Function.prototype.apply.call(A,N,W)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:r=function(A){return Object.getOwnPropertyNames(A)};function i(E){console&&console.warn&&console.warn(E)}var a=Number.isNaN||function(A){return A!==A};function s(){s.init.call(this)}Mo.exports=s,nr.once=g,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(E){if(typeof E!="number"||E<0||a(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");c=E}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||a(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function y(E){return E._maxListeners===void 0?s.defaultMaxListeners:E._maxListeners}s.prototype.getMaxListeners=function(){return y(this)},s.prototype.emit=function(A){for(var N=[],W=1;W<arguments.length;W++)N.push(arguments[W]);var q=A==="error",j=this._events;if(j!==void 0)q=q&&j.error===void 0;else if(!q)return!1;if(q){var J;if(N.length>0&&(J=N[0]),J instanceof Error)throw J;var ue=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw ue.context=J,ue}var ge=j[A];if(ge===void 0)return!1;if(typeof ge=="function")t(ge,this,N);else for(var ye=ge.length,Re=x(ge,ye),W=0;W<ye;++W)t(Re[W],this,N);return!0};function R(E,A,N,W){var q,j,J;if(u(N),j=E._events,j===void 0?(j=E._events=Object.create(null),E._eventsCount=0):(j.newListener!==void 0&&(E.emit("newListener",A,N.listener?N.listener:N),j=E._events),J=j[A]),J===void 0)J=j[A]=N,++E._eventsCount;else if(typeof J=="function"?J=j[A]=W?[N,J]:[J,N]:W?J.unshift(N):J.push(N),q=y(E),q>0&&J.length>q&&!J.warned){J.warned=!0;var ue=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");ue.name="MaxListenersExceededWarning",ue.emitter=E,ue.type=A,ue.count=J.length,i(ue)}return E}s.prototype.addListener=function(A,N){return R(this,A,N,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(A,N){return R(this,A,N,!0)};function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(E,A,N){var W={fired:!1,wrapFn:void 0,target:E,type:A,listener:N},q=C.bind(W);return q.listener=N,W.wrapFn=q,q}s.prototype.once=function(A,N){return u(N),this.on(A,M(this,A,N)),this},s.prototype.prependOnceListener=function(A,N){return u(N),this.prependListener(A,M(this,A,N)),this},s.prototype.removeListener=function(A,N){var W,q,j,J,ue;if(u(N),q=this._events,q===void 0)return this;if(W=q[A],W===void 0)return this;if(W===N||W.listener===N)--this._eventsCount===0?this._events=Object.create(null):(delete q[A],q.removeListener&&this.emit("removeListener",A,W.listener||N));else if(typeof W!="function"){for(j=-1,J=W.length-1;J>=0;J--)if(W[J]===N||W[J].listener===N){ue=W[J].listener,j=J;break}if(j<0)return this;j===0?W.shift():L(W,j),W.length===1&&(q[A]=W[0]),q.removeListener!==void 0&&this.emit("removeListener",A,ue||N)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(A){var N,W,q;if(W=this._events,W===void 0)return this;if(W.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):W[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete W[A]),this;if(arguments.length===0){var j=Object.keys(W),J;for(q=0;q<j.length;++q)J=j[q],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(N=W[A],typeof N=="function")this.removeListener(A,N);else if(N!==void 0)for(q=N.length-1;q>=0;q--)this.removeListener(A,N[q]);return this};function w(E,A,N){var W=E._events;if(W===void 0)return[];var q=W[A];return q===void 0?[]:typeof q=="function"?N?[q.listener||q]:[q]:N?$(q):x(q,q.length)}s.prototype.listeners=function(A){return w(this,A,!0)},s.prototype.rawListeners=function(A){return w(this,A,!1)},s.listenerCount=function(E,A){return typeof E.listenerCount=="function"?E.listenerCount(A):b.call(E,A)},s.prototype.listenerCount=b;function b(E){var A=this._events;if(A!==void 0){var N=A[E];if(typeof N=="function")return 1;if(N!==void 0)return N.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function x(E,A){for(var N=new Array(A),W=0;W<A;++W)N[W]=E[W];return N}function L(E,A){for(;A+1<E.length;A++)E[A]=E[A+1];E.pop()}function $(E){for(var A=new Array(E.length),N=0;N<A.length;++N)A[N]=E[N].listener||E[N];return A}function g(E,A){return new Promise(function(N,W){function q(J){E.removeListener(A,j),W(J)}function j(){typeof E.removeListener=="function"&&E.removeListener("error",q),N([].slice.call(arguments))}F(E,A,j,{once:!0}),A!=="error"&&_(E,q,{once:!0})})}function _(E,A,N){typeof E.on=="function"&&F(E,"error",A,N)}function F(E,A,N,W){if(typeof E.on=="function")W.once?E.once(A,N):E.on(A,N);else if(typeof E.addEventListener=="function")E.addEventListener(A,function q(j){W.once&&E.removeEventListener(A,q),N(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return nr}var lr={},Ar={};Ar.byteLength=Io;Ar.toByteArray=Bo;Ar.fromByteArray=Do;var Ue=[],Le=[],No=typeof Uint8Array<"u"?Uint8Array:Array,Dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var yt=0,Po=Dr.length;yt<Po;++yt)Ue[yt]=Dr[yt],Le[Dr.charCodeAt(yt)]=yt;Le["-".charCodeAt(0)]=62;Le["_".charCodeAt(0)]=63;function gi(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function Io(e){var t=gi(e),r=t[0],i=t[1];return(r+i)*3/4-i}function jo(e,t,r){return(t+r)*3/4-r}function Bo(e){var t,r=gi(e),i=r[0],a=r[1],s=new No(jo(e,i,a)),c=0,u=a>0?i-4:i,y;for(y=0;y<u;y+=4)t=Le[e.charCodeAt(y)]<<18|Le[e.charCodeAt(y+1)]<<12|Le[e.charCodeAt(y+2)]<<6|Le[e.charCodeAt(y+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=t&255;return a===2&&(t=Le[e.charCodeAt(y)]<<2|Le[e.charCodeAt(y+1)]>>4,s[c++]=t&255),a===1&&(t=Le[e.charCodeAt(y)]<<10|Le[e.charCodeAt(y+1)]<<4|Le[e.charCodeAt(y+2)]>>2,s[c++]=t>>8&255,s[c++]=t&255),s}function Fo(e){return Ue[e>>18&63]+Ue[e>>12&63]+Ue[e>>6&63]+Ue[e&63]}function ko(e,t,r){for(var i,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),a.push(Fo(i));return a.join("")}function Do(e){for(var t,r=e.length,i=r%3,a=[],s=16383,c=0,u=r-i;c<u;c+=s)a.push(ko(e,c,c+s>u?u:c+s));return i===1?(t=e[r-1],a.push(Ue[t>>2]+Ue[t<<4&63]+"==")):i===2&&(t=(e[r-2]<<8)+e[r-1],a.push(Ue[t>>10]+Ue[t>>4&63]+Ue[t<<2&63]+"=")),a.join("")}var yn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */yn.read=function(e,t,r,i,a){var s,c,u=a*8-i-1,y=(1<<u)-1,R=y>>1,C=-7,M=r?a-1:0,w=r?-1:1,b=e[t+M];for(M+=w,s=b&(1<<-C)-1,b>>=-C,C+=u;C>0;s=s*256+e[t+M],M+=w,C-=8);for(c=s&(1<<-C)-1,s>>=-C,C+=i;C>0;c=c*256+e[t+M],M+=w,C-=8);if(s===0)s=1-R;else{if(s===y)return c?NaN:(b?-1:1)*(1/0);c=c+Math.pow(2,i),s=s-R}return(b?-1:1)*c*Math.pow(2,s-i)};yn.write=function(e,t,r,i,a,s){var c,u,y,R=s*8-a-1,C=(1<<R)-1,M=C>>1,w=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:s-1,x=i?1:-1,L=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,c=C):(c=Math.floor(Math.log(t)/Math.LN2),t*(y=Math.pow(2,-c))<1&&(c--,y*=2),c+M>=1?t+=w/y:t+=w*Math.pow(2,1-M),t*y>=2&&(c++,y/=2),c+M>=C?(u=0,c=C):c+M>=1?(u=(t*y-1)*Math.pow(2,a),c=c+M):(u=t*Math.pow(2,M-1)*Math.pow(2,a),c=0));a>=8;e[r+b]=u&255,b+=x,u/=256,a-=8);for(c=c<<a|u,R+=a;R>0;e[r+b]=c&255,b+=x,c/=256,R-=8);e[r+b-x]|=L*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Ar,r=yn,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;var a=2147483647;e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var f=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(f,n),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(f){if(f>a)throw new RangeError('The value "'+f+'" is invalid for option "size"');var n=new Uint8Array(f);return Object.setPrototypeOf(n,u.prototype),n}function u(f,n,o){if(typeof f=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(f)}return y(f,n,o)}u.poolSize=8192;function y(f,n,o){if(typeof f=="string")return w(f,n);if(ArrayBuffer.isView(f))return x(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(P(f,ArrayBuffer)||f&&P(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(P(f,SharedArrayBuffer)||f&&P(f.buffer,SharedArrayBuffer)))return L(f,n,o);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var p=f.valueOf&&f.valueOf();if(p!=null&&p!==f)return u.from(p,n,o);var m=$(f);if(m)return m;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),n,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,n,o){return y(f,n,o)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function R(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function C(f,n,o){return R(f),f<=0?c(f):n!==void 0?typeof o=="string"?c(f).fill(n,o):c(f).fill(n):c(f)}u.alloc=function(f,n,o){return C(f,n,o)};function M(f){return R(f),c(f<0?0:g(f)|0)}u.allocUnsafe=function(f){return M(f)},u.allocUnsafeSlow=function(f){return M(f)};function w(f,n){if((typeof n!="string"||n==="")&&(n="utf8"),!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var o=F(f,n)|0,p=c(o),m=p.write(f,n);return m!==o&&(p=p.slice(0,m)),p}function b(f){for(var n=f.length<0?0:g(f.length)|0,o=c(n),p=0;p<n;p+=1)o[p]=f[p]&255;return o}function x(f){if(P(f,Uint8Array)){var n=new Uint8Array(f);return L(n.buffer,n.byteOffset,n.byteLength)}return b(f)}function L(f,n,o){if(n<0||f.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<n+(o||0))throw new RangeError('"length" is outside of buffer bounds');var p;return n===void 0&&o===void 0?p=new Uint8Array(f):o===void 0?p=new Uint8Array(f,n):p=new Uint8Array(f,n,o),Object.setPrototypeOf(p,u.prototype),p}function $(f){if(u.isBuffer(f)){var n=g(f.length)|0,o=c(n);return o.length===0||f.copy(o,0,0,n),o}if(f.length!==void 0)return typeof f.length!="number"||z(f.length)?c(0):b(f);if(f.type==="Buffer"&&Array.isArray(f.data))return b(f.data)}function g(f){if(f>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return f|0}function _(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==u.prototype},u.compare=function(n,o){if(P(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),P(o,Uint8Array)&&(o=u.from(o,o.offset,o.byteLength)),!u.isBuffer(n)||!u.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===o)return 0;for(var p=n.length,m=o.length,I=0,k=Math.min(p,m);I<k;++I)if(n[I]!==o[I]){p=n[I],m=o[I];break}return p<m?-1:m<p?1:0},u.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(n,o){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return u.alloc(0);var p;if(o===void 0)for(o=0,p=0;p<n.length;++p)o+=n[p].length;var m=u.allocUnsafe(o),I=0;for(p=0;p<n.length;++p){var k=n[p];if(P(k,Uint8Array))I+k.length>m.length?u.from(k).copy(m,I):Uint8Array.prototype.set.call(m,k,I);else if(u.isBuffer(k))k.copy(m,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=k.length}return m};function F(f,n){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||P(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var o=f.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&o===0)return 0;for(var m=!1;;)switch(n){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return D(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return h(f).length;default:if(m)return p?-1:D(f).length;n=(""+n).toLowerCase(),m=!0}}u.byteLength=F;function E(f,n,o){var p=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,n>>>=0,o<=n))return"";for(f||(f="utf8");;)switch(f){case"hex":return Y(this,n,o);case"utf8":case"utf-8":return Re(this,n,o);case"ascii":return U(this,n,o);case"latin1":case"binary":return K(this,n,o);case"base64":return ye(this,n,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,n,o);default:if(p)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),p=!0}}u.prototype._isBuffer=!0;function A(f,n,o){var p=f[n];f[n]=f[o],f[o]=p}u.prototype.swap16=function(){var n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<n;o+=2)A(this,o,o+1);return this},u.prototype.swap32=function(){var n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<n;o+=4)A(this,o,o+3),A(this,o+1,o+2);return this},u.prototype.swap64=function(){var n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<n;o+=8)A(this,o,o+7),A(this,o+1,o+6),A(this,o+2,o+5),A(this,o+3,o+4);return this},u.prototype.toString=function(){var n=this.length;return n===0?"":arguments.length===0?Re(this,0,n):E.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(n){if(!u.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:u.compare(this,n)===0},u.prototype.inspect=function(){var n="",o=e.INSPECT_MAX_BYTES;return n=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(n+=" ... "),"<Buffer "+n+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(n,o,p,m,I){if(P(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),!u.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(o===void 0&&(o=0),p===void 0&&(p=n?n.length:0),m===void 0&&(m=0),I===void 0&&(I=this.length),o<0||p>n.length||m<0||I>this.length)throw new RangeError("out of range index");if(m>=I&&o>=p)return 0;if(m>=I)return-1;if(o>=p)return 1;if(o>>>=0,p>>>=0,m>>>=0,I>>>=0,this===n)return 0;for(var k=I-m,Z=p-o,ne=Math.min(k,Z),oe=this.slice(m,I),le=n.slice(o,p),ae=0;ae<ne;++ae)if(oe[ae]!==le[ae]){k=oe[ae],Z=le[ae];break}return k<Z?-1:Z<k?1:0};function N(f,n,o,p,m){if(f.length===0)return-1;if(typeof o=="string"?(p=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,z(o)&&(o=m?0:f.length-1),o<0&&(o=f.length+o),o>=f.length){if(m)return-1;o=f.length-1}else if(o<0)if(m)o=0;else return-1;if(typeof n=="string"&&(n=u.from(n,p)),u.isBuffer(n))return n.length===0?-1:W(f,n,o,p,m);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?m?Uint8Array.prototype.indexOf.call(f,n,o):Uint8Array.prototype.lastIndexOf.call(f,n,o):W(f,[n],o,p,m);throw new TypeError("val must be string, number or Buffer")}function W(f,n,o,p,m){var I=1,k=f.length,Z=n.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(f.length<2||n.length<2)return-1;I=2,k/=2,Z/=2,o/=2}function ne($e,qe){return I===1?$e[qe]:$e.readUInt16BE(qe*I)}var oe;if(m){var le=-1;for(oe=o;oe<k;oe++)if(ne(f,oe)===ne(n,le===-1?0:oe-le)){if(le===-1&&(le=oe),oe-le+1===Z)return le*I}else le!==-1&&(oe-=oe-le),le=-1}else for(o+Z>k&&(o=k-Z),oe=o;oe>=0;oe--){for(var ae=!0,me=0;me<Z;me++)if(ne(f,oe+me)!==ne(n,me)){ae=!1;break}if(ae)return oe}return-1}u.prototype.includes=function(n,o,p){return this.indexOf(n,o,p)!==-1},u.prototype.indexOf=function(n,o,p){return N(this,n,o,p,!0)},u.prototype.lastIndexOf=function(n,o,p){return N(this,n,o,p,!1)};function q(f,n,o,p){o=Number(o)||0;var m=f.length-o;p?(p=Number(p),p>m&&(p=m)):p=m;var I=n.length;p>I/2&&(p=I/2);for(var k=0;k<p;++k){var Z=parseInt(n.substr(k*2,2),16);if(z(Z))return k;f[o+k]=Z}return k}function j(f,n,o,p){return d(D(n,f.length-o),f,o,p)}function J(f,n,o,p){return d(X(n),f,o,p)}function ue(f,n,o,p){return d(h(n),f,o,p)}function ge(f,n,o,p){return d(te(n,f.length-o),f,o,p)}u.prototype.write=function(n,o,p,m){if(o===void 0)m="utf8",p=this.length,o=0;else if(p===void 0&&typeof o=="string")m=o,p=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(p)?(p=p>>>0,m===void 0&&(m="utf8")):(m=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var I=this.length-o;if((p===void 0||p>I)&&(p=I),n.length>0&&(p<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");m||(m="utf8");for(var k=!1;;)switch(m){case"hex":return q(this,n,o,p);case"utf8":case"utf-8":return j(this,n,o,p);case"ascii":case"latin1":case"binary":return J(this,n,o,p);case"base64":return ue(this,n,o,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,n,o,p);default:if(k)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase(),k=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ye(f,n,o){return n===0&&o===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(n,o))}function Re(f,n,o){o=Math.min(f.length,o);for(var p=[],m=n;m<o;){var I=f[m],k=null,Z=I>239?4:I>223?3:I>191?2:1;if(m+Z<=o){var ne,oe,le,ae;switch(Z){case 1:I<128&&(k=I);break;case 2:ne=f[m+1],(ne&192)===128&&(ae=(I&31)<<6|ne&63,ae>127&&(k=ae));break;case 3:ne=f[m+1],oe=f[m+2],(ne&192)===128&&(oe&192)===128&&(ae=(I&15)<<12|(ne&63)<<6|oe&63,ae>2047&&(ae<55296||ae>57343)&&(k=ae));break;case 4:ne=f[m+1],oe=f[m+2],le=f[m+3],(ne&192)===128&&(oe&192)===128&&(le&192)===128&&(ae=(I&15)<<18|(ne&63)<<12|(oe&63)<<6|le&63,ae>65535&&ae<1114112&&(k=ae))}}k===null?(k=65533,Z=1):k>65535&&(k-=65536,p.push(k>>>10&1023|55296),k=56320|k&1023),p.push(k),m+=Z}return B(p)}var H=4096;function B(f){var n=f.length;if(n<=H)return String.fromCharCode.apply(String,f);for(var o="",p=0;p<n;)o+=String.fromCharCode.apply(String,f.slice(p,p+=H));return o}function U(f,n,o){var p="";o=Math.min(f.length,o);for(var m=n;m<o;++m)p+=String.fromCharCode(f[m]&127);return p}function K(f,n,o){var p="";o=Math.min(f.length,o);for(var m=n;m<o;++m)p+=String.fromCharCode(f[m]);return p}function Y(f,n,o){var p=f.length;(!n||n<0)&&(n=0),(!o||o<0||o>p)&&(o=p);for(var m="",I=n;I<o;++I)m+=fe[f[I]];return m}function V(f,n,o){for(var p=f.slice(n,o),m="",I=0;I<p.length-1;I+=2)m+=String.fromCharCode(p[I]+p[I+1]*256);return m}u.prototype.slice=function(n,o){var p=this.length;n=~~n,o=o===void 0?p:~~o,n<0?(n+=p,n<0&&(n=0)):n>p&&(n=p),o<0?(o+=p,o<0&&(o=0)):o>p&&(o=p),o<n&&(o=n);var m=this.subarray(n,o);return Object.setPrototypeOf(m,u.prototype),m};function ee(f,n,o){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+n>o)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(n,o,p){n=n>>>0,o=o>>>0,p||ee(n,o,this.length);for(var m=this[n],I=1,k=0;++k<o&&(I*=256);)m+=this[n+k]*I;return m},u.prototype.readUintBE=u.prototype.readUIntBE=function(n,o,p){n=n>>>0,o=o>>>0,p||ee(n,o,this.length);for(var m=this[n+--o],I=1;o>0&&(I*=256);)m+=this[n+--o]*I;return m},u.prototype.readUint8=u.prototype.readUInt8=function(n,o){return n=n>>>0,o||ee(n,1,this.length),this[n]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(n,o){return n=n>>>0,o||ee(n,2,this.length),this[n]|this[n+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(n,o){return n=n>>>0,o||ee(n,2,this.length),this[n]<<8|this[n+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(n,o){return n=n>>>0,o||ee(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(n,o){return n=n>>>0,o||ee(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},u.prototype.readIntLE=function(n,o,p){n=n>>>0,o=o>>>0,p||ee(n,o,this.length);for(var m=this[n],I=1,k=0;++k<o&&(I*=256);)m+=this[n+k]*I;return I*=128,m>=I&&(m-=Math.pow(2,8*o)),m},u.prototype.readIntBE=function(n,o,p){n=n>>>0,o=o>>>0,p||ee(n,o,this.length);for(var m=o,I=1,k=this[n+--m];m>0&&(I*=256);)k+=this[n+--m]*I;return I*=128,k>=I&&(k-=Math.pow(2,8*o)),k},u.prototype.readInt8=function(n,o){return n=n>>>0,o||ee(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},u.prototype.readInt16LE=function(n,o){n=n>>>0,o||ee(n,2,this.length);var p=this[n]|this[n+1]<<8;return p&32768?p|4294901760:p},u.prototype.readInt16BE=function(n,o){n=n>>>0,o||ee(n,2,this.length);var p=this[n+1]|this[n]<<8;return p&32768?p|4294901760:p},u.prototype.readInt32LE=function(n,o){return n=n>>>0,o||ee(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},u.prototype.readInt32BE=function(n,o){return n=n>>>0,o||ee(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},u.prototype.readFloatLE=function(n,o){return n=n>>>0,o||ee(n,4,this.length),r.read(this,n,!0,23,4)},u.prototype.readFloatBE=function(n,o){return n=n>>>0,o||ee(n,4,this.length),r.read(this,n,!1,23,4)},u.prototype.readDoubleLE=function(n,o){return n=n>>>0,o||ee(n,8,this.length),r.read(this,n,!0,52,8)},u.prototype.readDoubleBE=function(n,o){return n=n>>>0,o||ee(n,8,this.length),r.read(this,n,!1,52,8)};function re(f,n,o,p,m,I){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>m||n<I)throw new RangeError('"value" argument is out of bounds');if(o+p>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(n,o,p,m){if(n=+n,o=o>>>0,p=p>>>0,!m){var I=Math.pow(2,8*p)-1;re(this,n,o,p,I,0)}var k=1,Z=0;for(this[o]=n&255;++Z<p&&(k*=256);)this[o+Z]=n/k&255;return o+p},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(n,o,p,m){if(n=+n,o=o>>>0,p=p>>>0,!m){var I=Math.pow(2,8*p)-1;re(this,n,o,p,I,0)}var k=p-1,Z=1;for(this[o+k]=n&255;--k>=0&&(Z*=256);)this[o+k]=n/Z&255;return o+p},u.prototype.writeUint8=u.prototype.writeUInt8=function(n,o,p){return n=+n,o=o>>>0,p||re(this,n,o,1,255,0),this[o]=n&255,o+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(n,o,p){return n=+n,o=o>>>0,p||re(this,n,o,2,65535,0),this[o]=n&255,this[o+1]=n>>>8,o+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(n,o,p){return n=+n,o=o>>>0,p||re(this,n,o,2,65535,0),this[o]=n>>>8,this[o+1]=n&255,o+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(n,o,p){return n=+n,o=o>>>0,p||re(this,n,o,4,4294967295,0),this[o+3]=n>>>24,this[o+2]=n>>>16,this[o+1]=n>>>8,this[o]=n&255,o+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(n,o,p){return n=+n,o=o>>>0,p||re(this,n,o,4,4294967295,0),this[o]=n>>>24,this[o+1]=n>>>16,this[o+2]=n>>>8,this[o+3]=n&255,o+4},u.prototype.writeIntLE=function(n,o,p,m){if(n=+n,o=o>>>0,!m){var I=Math.pow(2,8*p-1);re(this,n,o,p,I-1,-I)}var k=0,Z=1,ne=0;for(this[o]=n&255;++k<p&&(Z*=256);)n<0&&ne===0&&this[o+k-1]!==0&&(ne=1),this[o+k]=(n/Z>>0)-ne&255;return o+p},u.prototype.writeIntBE=function(n,o,p,m){if(n=+n,o=o>>>0,!m){var I=Math.pow(2,8*p-1);re(this,n,o,p,I-1,-I)}var k=p-1,Z=1,ne=0;for(this[o+k]=n&255;--k>=0&&(Z*=256);)n<0&&ne===0&&this[o+k+1]!==0&&(ne=1),this[o+k]=(n/Z>>0)-ne&255;return o+p},u.prototype.writeInt8=function(n,o,p){return n=+n,o=o>>>0,p||re(this,n,o,1,127,-128),n<0&&(n=255+n+1),this[o]=n&255,o+1},u.prototype.writeInt16LE=function(n,o,p){return n=+n,o=o>>>0,p||re(this,n,o,2,32767,-32768),this[o]=n&255,this[o+1]=n>>>8,o+2},u.prototype.writeInt16BE=function(n,o,p){return n=+n,o=o>>>0,p||re(this,n,o,2,32767,-32768),this[o]=n>>>8,this[o+1]=n&255,o+2},u.prototype.writeInt32LE=function(n,o,p){return n=+n,o=o>>>0,p||re(this,n,o,4,2147483647,-2147483648),this[o]=n&255,this[o+1]=n>>>8,this[o+2]=n>>>16,this[o+3]=n>>>24,o+4},u.prototype.writeInt32BE=function(n,o,p){return n=+n,o=o>>>0,p||re(this,n,o,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[o]=n>>>24,this[o+1]=n>>>16,this[o+2]=n>>>8,this[o+3]=n&255,o+4};function Q(f,n,o,p,m,I){if(o+p>f.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function ve(f,n,o,p,m){return n=+n,o=o>>>0,m||Q(f,n,o,4),r.write(f,n,o,p,23,4),o+4}u.prototype.writeFloatLE=function(n,o,p){return ve(this,n,o,!0,p)},u.prototype.writeFloatBE=function(n,o,p){return ve(this,n,o,!1,p)};function we(f,n,o,p,m){return n=+n,o=o>>>0,m||Q(f,n,o,8),r.write(f,n,o,p,52,8),o+8}u.prototype.writeDoubleLE=function(n,o,p){return we(this,n,o,!0,p)},u.prototype.writeDoubleBE=function(n,o,p){return we(this,n,o,!1,p)},u.prototype.copy=function(n,o,p,m){if(!u.isBuffer(n))throw new TypeError("argument should be a Buffer");if(p||(p=0),!m&&m!==0&&(m=this.length),o>=n.length&&(o=n.length),o||(o=0),m>0&&m<p&&(m=p),m===p||n.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),n.length-o<m-p&&(m=n.length-o+p);var I=m-p;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,p,m):Uint8Array.prototype.set.call(n,this.subarray(p,m),o),I},u.prototype.fill=function(n,o,p,m){if(typeof n=="string"){if(typeof o=="string"?(m=o,o=0,p=this.length):typeof p=="string"&&(m=p,p=this.length),m!==void 0&&typeof m!="string")throw new TypeError("encoding must be a string");if(typeof m=="string"&&!u.isEncoding(m))throw new TypeError("Unknown encoding: "+m);if(n.length===1){var I=n.charCodeAt(0);(m==="utf8"&&I<128||m==="latin1")&&(n=I)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(o<0||this.length<o||this.length<p)throw new RangeError("Out of range index");if(p<=o)return this;o=o>>>0,p=p===void 0?this.length:p>>>0,n||(n=0);var k;if(typeof n=="number")for(k=o;k<p;++k)this[k]=n;else{var Z=u.isBuffer(n)?n:u.from(n,m),ne=Z.length;if(ne===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(k=0;k<p-o;++k)this[k+o]=Z[k%ne]}return this};var S=/[^+/0-9A-Za-z-_]/g;function O(f){if(f=f.split("=")[0],f=f.trim().replace(S,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function D(f,n){n=n||1/0;for(var o,p=f.length,m=null,I=[],k=0;k<p;++k){if(o=f.charCodeAt(k),o>55295&&o<57344){if(!m){if(o>56319){(n-=3)>-1&&I.push(239,191,189);continue}else if(k+1===p){(n-=3)>-1&&I.push(239,191,189);continue}m=o;continue}if(o<56320){(n-=3)>-1&&I.push(239,191,189),m=o;continue}o=(m-55296<<10|o-56320)+65536}else m&&(n-=3)>-1&&I.push(239,191,189);if(m=null,o<128){if((n-=1)<0)break;I.push(o)}else if(o<2048){if((n-=2)<0)break;I.push(o>>6|192,o&63|128)}else if(o<65536){if((n-=3)<0)break;I.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((n-=4)<0)break;I.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return I}function X(f){for(var n=[],o=0;o<f.length;++o)n.push(f.charCodeAt(o)&255);return n}function te(f,n){for(var o,p,m,I=[],k=0;k<f.length&&!((n-=2)<0);++k)o=f.charCodeAt(k),p=o>>8,m=o%256,I.push(m),I.push(p);return I}function h(f){return t.toByteArray(O(f))}function d(f,n,o,p){for(var m=0;m<p&&!(m+o>=n.length||m>=f.length);++m)n[m+o]=f[m];return m}function P(f,n){return f instanceof n||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===n.name}function z(f){return f!==f}var fe=function(){for(var f="0123456789abcdef",n=new Array(256),o=0;o<16;++o)for(var p=o*16,m=0;m<16;++m)n[p+m]=f[o]+f[m];return n}()})(lr);function je(e){return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(e)}const au=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"}));function Uo(e,t){if(je(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(je(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yi(e){var t=Uo(e,"string");return je(t)==="symbol"?t:String(t)}function he(e,t,r){return t=yi(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}const su=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"}));function Bn(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yi(i.key),i)}}function Ze(e,t,r){return t&&Bn(e.prototype,t),r&&Bn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}const uu=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}));function Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(e,t){return or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},or(e,t)}function et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&or(e,t)}const fu=Object.freeze(Object.defineProperty({__proto__:null,default:et},Symbol.toStringTag,{value:"Module"}));function tt(e,t){if(t&&(je(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}const lu=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"}));function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ee(e)}const cu=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));var ze={},$o={get exports(){return ze},set exports(e){ze=e}},vi=gn().EventEmitter,Ur,Fn;function qo(){if(Fn)return Ur;Fn=1;function e(w,b){var x=Object.keys(w);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(w);b&&(L=L.filter(function($){return Object.getOwnPropertyDescriptor(w,$).enumerable})),x.push.apply(x,L)}return x}function t(w){for(var b=1;b<arguments.length;b++){var x=arguments[b]!=null?arguments[b]:{};b%2?e(Object(x),!0).forEach(function(L){r(w,L,x[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(x)):e(Object(x)).forEach(function(L){Object.defineProperty(w,L,Object.getOwnPropertyDescriptor(x,L))})}return w}function r(w,b,x){return b in w?Object.defineProperty(w,b,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[b]=x,w}function i(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function a(w,b){for(var x=0;x<b.length;x++){var L=b[x];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(w,L.key,L)}}function s(w,b,x){return b&&a(w.prototype,b),x&&a(w,x),w}var c=lr,u=c.Buffer,y=pn,R=y.inspect,C=R&&R.custom||"inspect";function M(w,b,x){u.prototype.copy.call(w,b,x)}return Ur=function(){function w(){i(this,w),this.head=null,this.tail=null,this.length=0}return s(w,[{key:"push",value:function(x){var L={data:x,next:null};this.length>0?this.tail.next=L:this.head=L,this.tail=L,++this.length}},{key:"unshift",value:function(x){var L={data:x,next:this.head};this.length===0&&(this.tail=L),this.head=L,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var L=this.head,$=""+L.data;L=L.next;)$+=x+L.data;return $}},{key:"concat",value:function(x){if(this.length===0)return u.alloc(0);for(var L=u.allocUnsafe(x>>>0),$=this.head,g=0;$;)M($.data,L,g),g+=$.data.length,$=$.next;return L}},{key:"consume",value:function(x,L){var $;return x<this.head.data.length?($=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?$=this.shift():$=L?this._getString(x):this._getBuffer(x),$}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var L=this.head,$=1,g=L.data;for(x-=g.length;L=L.next;){var _=L.data,F=x>_.length?_.length:x;if(F===_.length?g+=_:g+=_.slice(0,x),x-=F,x===0){F===_.length?(++$,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=_.slice(F));break}++$}return this.length-=$,g}},{key:"_getBuffer",value:function(x){var L=u.allocUnsafe(x),$=this.head,g=1;for($.data.copy(L),x-=$.data.length;$=$.next;){var _=$.data,F=x>_.length?_.length:x;if(_.copy(L,L.length-x,0,F),x-=F,x===0){F===_.length?(++g,$.next?this.head=$.next:this.head=this.tail=null):(this.head=$,$.data=_.slice(F));break}++g}return this.length-=g,L}},{key:C,value:function(x,L){return R(this,t({},L,{depth:0,customInspect:!1}))}}]),w}(),Ur}function Ho(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Zr,this,e)):process.nextTick(Zr,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(pr,r):(r._writableState.errorEmitted=!0,process.nextTick(kn,r,s)):process.nextTick(kn,r,s):t?(process.nextTick(pr,r),t(s)):process.nextTick(pr,r)}),this)}function kn(e,t){Zr(e,t),pr(e)}function pr(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Wo(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Zr(e,t){e.emit("error",t)}function zo(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}var wi={destroy:Ho,undestroy:Wo,errorOrDestroy:zo},ft={};function Go(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var mi={};function Me(e,t,r){r||(r=Error);function i(s,c,u){return typeof t=="string"?t:t(s,c,u)}var a=function(s){Go(c,s);function c(u,y,R){return s.call(this,i(u,y,R))||this}return c}(r);a.prototype.name=r.name,a.prototype.code=e,mi[e]=a}function Dn(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(i){return String(i)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Ko(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function Vo(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Jo(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}Me("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);Me("ERR_INVALID_ARG_TYPE",function(e,t,r){var i;typeof t=="string"&&Ko(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be";var a;if(Vo(e," argument"))a="The ".concat(e," ").concat(i," ").concat(Dn(t,"type"));else{var s=Jo(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(s," ").concat(i," ").concat(Dn(t,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);Me("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Me("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});Me("ERR_STREAM_PREMATURE_CLOSE","Premature close");Me("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});Me("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Me("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Me("ERR_STREAM_WRITE_AFTER_END","write after end");Me("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Me("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);Me("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ft.codes=mi;var Yo=ft.codes.ERR_INVALID_OPT_VALUE;function Xo(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Qo(e,t,r,i){var a=Xo(t,i,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var s=i?r:"highWaterMark";throw new Yo(s,a)}return Math.floor(a)}return e.objectMode?16:16*1024}var _i={getHighWaterMark:Qo},Zo=ea;function ea(e,t){if($r("noDeprecation"))return e;var r=!1;function i(){if(!r){if($r("throwDeprecation"))throw new Error(t);$r("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return i}function $r(e){try{if(!Ie.localStorage)return!1}catch{return!1}var t=Ie.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var qr,Un;function bi(){if(Un)return qr;Un=1,qr=q;function e(S){var O=this;this.next=null,this.entry=null,this.finish=function(){we(O,S)}}var t;q.WritableState=N;var r={deprecate:Zo},i=vi,a=lr.Buffer,s=Ie.Uint8Array||function(){};function c(S){return a.from(S)}function u(S){return a.isBuffer(S)||S instanceof s}var y=wi,R=_i,C=R.getHighWaterMark,M=ft.codes,w=M.ERR_INVALID_ARG_TYPE,b=M.ERR_METHOD_NOT_IMPLEMENTED,x=M.ERR_MULTIPLE_CALLBACK,L=M.ERR_STREAM_CANNOT_PIPE,$=M.ERR_STREAM_DESTROYED,g=M.ERR_STREAM_NULL_VALUES,_=M.ERR_STREAM_WRITE_AFTER_END,F=M.ERR_UNKNOWN_ENCODING,E=y.errorOrDestroy;st(q,i);function A(){}function N(S,O,D){t=t||wt(),S=S||{},typeof D!="boolean"&&(D=O instanceof t),this.objectMode=!!S.objectMode,D&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=C(this,S,"writableHighWaterMark",D),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var X=S.decodeStrings===!1;this.decodeStrings=!X,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){B(O,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}N.prototype.getBuffer=function(){for(var O=this.bufferedRequest,D=[];O;)D.push(O),O=O.next;return D},function(){try{Object.defineProperty(N.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(O){return W.call(this,O)?!0:this!==q?!1:O&&O._writableState instanceof N}})):W=function(O){return O instanceof this};function q(S){t=t||wt();var O=this instanceof t;if(!O&&!W.call(q,this))return new q(S);this._writableState=new N(S,this,O),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),i.call(this)}q.prototype.pipe=function(){E(this,new L)};function j(S,O){var D=new _;E(S,D),process.nextTick(O,D)}function J(S,O,D,X){var te;return D===null?te=new g:typeof D!="string"&&!O.objectMode&&(te=new w("chunk",["string","Buffer"],D)),te?(E(S,te),process.nextTick(X,te),!1):!0}q.prototype.write=function(S,O,D){var X=this._writableState,te=!1,h=!X.objectMode&&u(S);return h&&!a.isBuffer(S)&&(S=c(S)),typeof O=="function"&&(D=O,O=null),h?O="buffer":O||(O=X.defaultEncoding),typeof D!="function"&&(D=A),X.ending?j(this,D):(h||J(this,X,S,D))&&(X.pendingcb++,te=ge(this,X,h,S,O,D)),te},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,!S.writing&&!S.corked&&!S.bufferProcessing&&S.bufferedRequest&&Y(this,S))},q.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new F(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ue(S,O,D){return!S.objectMode&&S.decodeStrings!==!1&&typeof O=="string"&&(O=a.from(O,D)),O}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ge(S,O,D,X,te,h){if(!D){var d=ue(O,X,te);X!==d&&(D=!0,te="buffer",X=d)}var P=O.objectMode?1:X.length;O.length+=P;var z=O.length<O.highWaterMark;if(z||(O.needDrain=!0),O.writing||O.corked){var fe=O.lastBufferedRequest;O.lastBufferedRequest={chunk:X,encoding:te,isBuf:D,callback:h,next:null},fe?fe.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else ye(S,O,!1,P,X,te,h);return z}function ye(S,O,D,X,te,h,d){O.writelen=X,O.writecb=d,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new $("write")):D?S._writev(te,O.onwrite):S._write(te,h,O.onwrite),O.sync=!1}function Re(S,O,D,X,te){--O.pendingcb,D?(process.nextTick(te,X),process.nextTick(Q,S,O),S._writableState.errorEmitted=!0,E(S,X)):(te(X),S._writableState.errorEmitted=!0,E(S,X),Q(S,O))}function H(S){S.writing=!1,S.writecb=null,S.length-=S.writelen,S.writelen=0}function B(S,O){var D=S._writableState,X=D.sync,te=D.writecb;if(typeof te!="function")throw new x;if(H(D),O)Re(S,D,X,O,te);else{var h=V(D)||S.destroyed;!h&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&Y(S,D),X?process.nextTick(U,S,D,h,te):U(S,D,h,te)}}function U(S,O,D,X){D||K(S,O),O.pendingcb--,X(),Q(S,O)}function K(S,O){O.length===0&&O.needDrain&&(O.needDrain=!1,S.emit("drain"))}function Y(S,O){O.bufferProcessing=!0;var D=O.bufferedRequest;if(S._writev&&D&&D.next){var X=O.bufferedRequestCount,te=new Array(X),h=O.corkedRequestsFree;h.entry=D;for(var d=0,P=!0;D;)te[d]=D,D.isBuf||(P=!1),D=D.next,d+=1;te.allBuffers=P,ye(S,O,!0,O.length,te,"",h.finish),O.pendingcb++,O.lastBufferedRequest=null,h.next?(O.corkedRequestsFree=h.next,h.next=null):O.corkedRequestsFree=new e(O),O.bufferedRequestCount=0}else{for(;D;){var z=D.chunk,fe=D.encoding,f=D.callback,n=O.objectMode?1:z.length;if(ye(S,O,!1,n,z,fe,f),D=D.next,O.bufferedRequestCount--,O.writing)break}D===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=D,O.bufferProcessing=!1}q.prototype._write=function(S,O,D){D(new b("_write()"))},q.prototype._writev=null,q.prototype.end=function(S,O,D){var X=this._writableState;return typeof S=="function"?(D=S,S=null,O=null):typeof O=="function"&&(D=O,O=null),S!=null&&this.write(S,O),X.corked&&(X.corked=1,this.uncork()),X.ending||ve(this,X,D),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function ee(S,O){S._final(function(D){O.pendingcb--,D&&E(S,D),O.prefinished=!0,S.emit("prefinish"),Q(S,O)})}function re(S,O){!O.prefinished&&!O.finalCalled&&(typeof S._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,process.nextTick(ee,S,O)):(O.prefinished=!0,S.emit("prefinish")))}function Q(S,O){var D=V(O);if(D&&(re(S,O),O.pendingcb===0&&(O.finished=!0,S.emit("finish"),O.autoDestroy))){var X=S._readableState;(!X||X.autoDestroy&&X.endEmitted)&&S.destroy()}return D}function ve(S,O,D){O.ending=!0,Q(S,O),D&&(O.finished?process.nextTick(D):S.once("finish",D)),O.ended=!0,S.writable=!1}function we(S,O,D){var X=S.entry;for(S.entry=null;X;){var te=X.callback;O.pendingcb--,te(D),X=X.next}O.corkedRequestsFree.next=S}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),q.prototype.destroy=y.destroy,q.prototype._undestroy=y.undestroy,q.prototype._destroy=function(S,O){O(S)},qr}var Hr,$n;function wt(){if($n)return Hr;$n=1;var e=Object.keys||function(R){var C=[];for(var M in R)C.push(M);return C};Hr=c;var t=Si(),r=bi();st(c,t);for(var i=e(r.prototype),a=0;a<i.length;a++){var s=i[a];c.prototype[s]||(c.prototype[s]=r.prototype[s])}function c(R){if(!(this instanceof c))return new c(R);t.call(this,R),r.call(this,R),this.allowHalfOpen=!0,R&&(R.readable===!1&&(this.readable=!1),R.writable===!1&&(this.writable=!1),R.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||process.nextTick(y,this)}function y(R){R.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(C){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=C,this._writableState.destroyed=C)}}),Hr}var Wr={},ar={},ta={get exports(){return ar},set exports(e){ar=e}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=lr,i=r.Buffer;function a(c,u){for(var y in c)u[y]=c[y]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=s);function s(c,u,y){return i(c,u,y)}s.prototype=Object.create(i.prototype),a(i,s),s.from=function(c,u,y){if(typeof c=="number")throw new TypeError("Argument must not be a number");return i(c,u,y)},s.alloc=function(c,u,y){if(typeof c!="number")throw new TypeError("Argument must be a number");var R=i(c);return u!==void 0?typeof y=="string"?R.fill(u,y):R.fill(u):R.fill(0),R},s.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i(c)},s.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}})(ta,ar);var qn;function Hn(){if(qn)return Wr;qn=1;var e=ar.Buffer,t=e.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(g){if(!g)return"utf8";for(var _;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(_)return;g=(""+g).toLowerCase(),_=!0}}function i(g){var _=r(g);if(typeof _!="string"&&(e.isEncoding===t||!t(g)))throw new Error("Unknown encoding: "+g);return _||g}Wr.StringDecoder=a;function a(g){this.encoding=i(g);var _;switch(this.encoding){case"utf16le":this.text=M,this.end=w,_=4;break;case"utf8":this.fillLast=y,_=4;break;case"base64":this.text=b,this.end=x,_=3;break;default:this.write=L,this.end=$;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(_)}a.prototype.write=function(g){if(g.length===0)return"";var _,F;if(this.lastNeed){if(_=this.fillLast(g),_===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<g.length?_?_+this.text(g,F):this.text(g,F):_||""},a.prototype.end=C,a.prototype.text=R,a.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function s(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function c(g,_,F){var E=_.length-1;if(E<F)return 0;var A=s(_[E]);return A>=0?(A>0&&(g.lastNeed=A-1),A):--E<F||A===-2?0:(A=s(_[E]),A>=0?(A>0&&(g.lastNeed=A-2),A):--E<F||A===-2?0:(A=s(_[E]),A>=0?(A>0&&(A===2?A=0:g.lastNeed=A-3),A):0))}function u(g,_,F){if((_[0]&192)!==128)return g.lastNeed=0,"�";if(g.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return g.lastNeed=1,"�";if(g.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return g.lastNeed=2,"�"}}function y(g){var _=this.lastTotal-this.lastNeed,F=u(this,g);if(F!==void 0)return F;if(this.lastNeed<=g.length)return g.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,_,0,g.length),this.lastNeed-=g.length}function R(g,_){var F=c(this,g,_);if(!this.lastNeed)return g.toString("utf8",_);this.lastTotal=F;var E=g.length-(F-this.lastNeed);return g.copy(this.lastChar,0,E),g.toString("utf8",_,E)}function C(g){var _=g&&g.length?this.write(g):"";return this.lastNeed?_+"�":_}function M(g,_){if((g.length-_)%2===0){var F=g.toString("utf16le",_);if(F){var E=F.charCodeAt(F.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",_,g.length-1)}function w(g){var _=g&&g.length?this.write(g):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,F)}return _}function b(g,_){var F=(g.length-_)%3;return F===0?g.toString("base64",_):(this.lastNeed=3-F,this.lastTotal=3,F===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",_,g.length-F))}function x(g){var _=g&&g.length?this.write(g):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function L(g){return g.toString(this.encoding)}function $(g){return g&&g.length?this.write(g):""}return Wr}var Wn=ft.codes.ERR_STREAM_PREMATURE_CLOSE;function ra(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];e.apply(this,i)}}}function na(){}function ia(e){return e.setHeader&&typeof e.abort=="function"}function Ei(e,t,r){if(typeof t=="function")return Ei(e,null,t);t||(t={}),r=ra(r||na);var i=t.readable||t.readable!==!1&&e.readable,a=t.writable||t.writable!==!1&&e.writable,s=function(){e.writable||u()},c=e._writableState&&e._writableState.finished,u=function(){a=!1,c=!0,i||r.call(e)},y=e._readableState&&e._readableState.endEmitted,R=function(){i=!1,y=!0,a||r.call(e)},C=function(x){r.call(e,x)},M=function(){var x;if(i&&!y)return(!e._readableState||!e._readableState.ended)&&(x=new Wn),r.call(e,x);if(a&&!c)return(!e._writableState||!e._writableState.ended)&&(x=new Wn),r.call(e,x)},w=function(){e.req.on("finish",u)};return ia(e)?(e.on("complete",u),e.on("abort",M),e.req?w():e.on("request",w)):a&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",R),e.on("finish",u),t.error!==!1&&e.on("error",C),e.on("close",M),function(){e.removeListener("complete",u),e.removeListener("abort",M),e.removeListener("request",w),e.req&&e.req.removeListener("finish",u),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",u),e.removeListener("end",R),e.removeListener("error",C),e.removeListener("close",M)}}var vn=Ei,zr,zn;function oa(){if(zn)return zr;zn=1;var e;function t(g,_,F){return _ in g?Object.defineProperty(g,_,{value:F,enumerable:!0,configurable:!0,writable:!0}):g[_]=F,g}var r=vn,i=Symbol("lastResolve"),a=Symbol("lastReject"),s=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),y=Symbol("handlePromise"),R=Symbol("stream");function C(g,_){return{value:g,done:_}}function M(g){var _=g[i];if(_!==null){var F=g[R].read();F!==null&&(g[u]=null,g[i]=null,g[a]=null,_(C(F,!1)))}}function w(g){process.nextTick(M,g)}function b(g,_){return function(F,E){g.then(function(){if(_[c]){F(C(void 0,!0));return}_[y](F,E)},E)}}var x=Object.getPrototypeOf(function(){}),L=Object.setPrototypeOf((e={get stream(){return this[R]},next:function(){var _=this,F=this[s];if(F!==null)return Promise.reject(F);if(this[c])return Promise.resolve(C(void 0,!0));if(this[R].destroyed)return new Promise(function(W,q){process.nextTick(function(){_[s]?q(_[s]):W(C(void 0,!0))})});var E=this[u],A;if(E)A=new Promise(b(E,this));else{var N=this[R].read();if(N!==null)return Promise.resolve(C(N,!1));A=new Promise(this[y])}return this[u]=A,A}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var _=this;return new Promise(function(F,E){_[R].destroy(null,function(A){if(A){E(A);return}F(C(void 0,!0))})})}),e),x),$=function(_){var F,E=Object.create(L,(F={},t(F,R,{value:_,writable:!0}),t(F,i,{value:null,writable:!0}),t(F,a,{value:null,writable:!0}),t(F,s,{value:null,writable:!0}),t(F,c,{value:_._readableState.endEmitted,writable:!0}),t(F,y,{value:function(N,W){var q=E[R].read();q?(E[u]=null,E[i]=null,E[a]=null,N(C(q,!1))):(E[i]=N,E[a]=W)},writable:!0}),F));return E[u]=null,r(_,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var N=E[a];N!==null&&(E[u]=null,E[i]=null,E[a]=null,N(A)),E[s]=A;return}var W=E[i];W!==null&&(E[u]=null,E[i]=null,E[a]=null,W(C(void 0,!0))),E[c]=!0}),_.on("readable",w.bind(null,E)),E};return zr=$,zr}var Gr,Gn;function aa(){return Gn||(Gn=1,Gr=function(){throw new Error("Readable.from is not available in the browser")}),Gr}var Kr,Kn;function Si(){if(Kn)return Kr;Kn=1,Kr=j;var e;j.ReadableState=q,gn().EventEmitter;var t=function(d,P){return d.listeners(P).length},r=vi,i=lr.Buffer,a=Ie.Uint8Array||function(){};function s(h){return i.from(h)}function c(h){return i.isBuffer(h)||h instanceof a}var u=pn,y;u&&u.debuglog?y=u.debuglog("stream"):y=function(){};var R=qo(),C=wi,M=_i,w=M.getHighWaterMark,b=ft.codes,x=b.ERR_INVALID_ARG_TYPE,L=b.ERR_STREAM_PUSH_AFTER_EOF,$=b.ERR_METHOD_NOT_IMPLEMENTED,g=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_,F,E;st(j,r);var A=C.errorOrDestroy,N=["error","close","destroy","pause","resume"];function W(h,d,P){if(typeof h.prependListener=="function")return h.prependListener(d,P);!h._events||!h._events[d]?h.on(d,P):Array.isArray(h._events[d])?h._events[d].unshift(P):h._events[d]=[P,h._events[d]]}function q(h,d,P){e=e||wt(),h=h||{},typeof P!="boolean"&&(P=d instanceof e),this.objectMode=!!h.objectMode,P&&(this.objectMode=this.objectMode||!!h.readableObjectMode),this.highWaterMark=w(this,h,"readableHighWaterMark",P),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=h.emitClose!==!1,this.autoDestroy=!!h.autoDestroy,this.destroyed=!1,this.defaultEncoding=h.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,h.encoding&&(_||(_=Hn().StringDecoder),this.decoder=new _(h.encoding),this.encoding=h.encoding)}function j(h){if(e=e||wt(),!(this instanceof j))return new j(h);var d=this instanceof e;this._readableState=new q(h,this,d),this.readable=!0,h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy)),r.call(this)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(d){this._readableState&&(this._readableState.destroyed=d)}}),j.prototype.destroy=C.destroy,j.prototype._undestroy=C.undestroy,j.prototype._destroy=function(h,d){d(h)},j.prototype.push=function(h,d){var P=this._readableState,z;return P.objectMode?z=!0:typeof h=="string"&&(d=d||P.defaultEncoding,d!==P.encoding&&(h=i.from(h,d),d=""),z=!0),J(this,h,d,!1,z)},j.prototype.unshift=function(h){return J(this,h,null,!0,!1)};function J(h,d,P,z,fe){y("readableAddChunk",d);var f=h._readableState;if(d===null)f.reading=!1,B(h,f);else{var n;if(fe||(n=ge(f,d)),n)A(h,n);else if(f.objectMode||d&&d.length>0)if(typeof d!="string"&&!f.objectMode&&Object.getPrototypeOf(d)!==i.prototype&&(d=s(d)),z)f.endEmitted?A(h,new g):ue(h,f,d,!0);else if(f.ended)A(h,new L);else{if(f.destroyed)return!1;f.reading=!1,f.decoder&&!P?(d=f.decoder.write(d),f.objectMode||d.length!==0?ue(h,f,d,!1):Y(h,f)):ue(h,f,d,!1)}else z||(f.reading=!1,Y(h,f))}return!f.ended&&(f.length<f.highWaterMark||f.length===0)}function ue(h,d,P,z){d.flowing&&d.length===0&&!d.sync?(d.awaitDrain=0,h.emit("data",P)):(d.length+=d.objectMode?1:P.length,z?d.buffer.unshift(P):d.buffer.push(P),d.needReadable&&U(h)),Y(h,d)}function ge(h,d){var P;return!c(d)&&typeof d!="string"&&d!==void 0&&!h.objectMode&&(P=new x("chunk",["string","Buffer","Uint8Array"],d)),P}j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function(h){_||(_=Hn().StringDecoder);var d=new _(h);this._readableState.decoder=d,this._readableState.encoding=this._readableState.decoder.encoding;for(var P=this._readableState.buffer.head,z="";P!==null;)z+=d.write(P.data),P=P.next;return this._readableState.buffer.clear(),z!==""&&this._readableState.buffer.push(z),this._readableState.length=z.length,this};var ye=1073741824;function Re(h){return h>=ye?h=ye:(h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++),h}function H(h,d){return h<=0||d.length===0&&d.ended?0:d.objectMode?1:h!==h?d.flowing&&d.length?d.buffer.head.data.length:d.length:(h>d.highWaterMark&&(d.highWaterMark=Re(h)),h<=d.length?h:d.ended?d.length:(d.needReadable=!0,0))}j.prototype.read=function(h){y("read",h),h=parseInt(h,10);var d=this._readableState,P=h;if(h!==0&&(d.emittedReadable=!1),h===0&&d.needReadable&&((d.highWaterMark!==0?d.length>=d.highWaterMark:d.length>0)||d.ended))return y("read: emitReadable",d.length,d.ended),d.length===0&&d.ended?D(this):U(this),null;if(h=H(h,d),h===0&&d.ended)return d.length===0&&D(this),null;var z=d.needReadable;y("need readable",z),(d.length===0||d.length-h<d.highWaterMark)&&(z=!0,y("length less than watermark",z)),d.ended||d.reading?(z=!1,y("reading or ended",z)):z&&(y("do read"),d.reading=!0,d.sync=!0,d.length===0&&(d.needReadable=!0),this._read(d.highWaterMark),d.sync=!1,d.reading||(h=H(P,d)));var fe;return h>0?fe=O(h,d):fe=null,fe===null?(d.needReadable=d.length<=d.highWaterMark,h=0):(d.length-=h,d.awaitDrain=0),d.length===0&&(d.ended||(d.needReadable=!0),P!==h&&d.ended&&D(this)),fe!==null&&this.emit("data",fe),fe};function B(h,d){if(y("onEofChunk"),!d.ended){if(d.decoder){var P=d.decoder.end();P&&P.length&&(d.buffer.push(P),d.length+=d.objectMode?1:P.length)}d.ended=!0,d.sync?U(h):(d.needReadable=!1,d.emittedReadable||(d.emittedReadable=!0,K(h)))}}function U(h){var d=h._readableState;y("emitReadable",d.needReadable,d.emittedReadable),d.needReadable=!1,d.emittedReadable||(y("emitReadable",d.flowing),d.emittedReadable=!0,process.nextTick(K,h))}function K(h){var d=h._readableState;y("emitReadable_",d.destroyed,d.length,d.ended),!d.destroyed&&(d.length||d.ended)&&(h.emit("readable"),d.emittedReadable=!1),d.needReadable=!d.flowing&&!d.ended&&d.length<=d.highWaterMark,S(h)}function Y(h,d){d.readingMore||(d.readingMore=!0,process.nextTick(V,h,d))}function V(h,d){for(;!d.reading&&!d.ended&&(d.length<d.highWaterMark||d.flowing&&d.length===0);){var P=d.length;if(y("maybeReadMore read 0"),h.read(0),P===d.length)break}d.readingMore=!1}j.prototype._read=function(h){A(this,new $("_read()"))},j.prototype.pipe=function(h,d){var P=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=h;break;case 1:z.pipes=[z.pipes,h];break;default:z.pipes.push(h);break}z.pipesCount+=1,y("pipe count=%d opts=%j",z.pipesCount,d);var fe=(!d||d.end!==!1)&&h!==process.stdout&&h!==process.stderr,f=fe?o:le;z.endEmitted?process.nextTick(f):P.once("end",f),h.on("unpipe",n);function n(ae,me){y("onunpipe"),ae===P&&me&&me.hasUnpiped===!1&&(me.hasUnpiped=!0,I())}function o(){y("onend"),h.end()}var p=ee(P);h.on("drain",p);var m=!1;function I(){y("cleanup"),h.removeListener("close",ne),h.removeListener("finish",oe),h.removeListener("drain",p),h.removeListener("error",Z),h.removeListener("unpipe",n),P.removeListener("end",o),P.removeListener("end",le),P.removeListener("data",k),m=!0,z.awaitDrain&&(!h._writableState||h._writableState.needDrain)&&p()}P.on("data",k);function k(ae){y("ondata");var me=h.write(ae);y("dest.write",me),me===!1&&((z.pipesCount===1&&z.pipes===h||z.pipesCount>1&&te(z.pipes,h)!==-1)&&!m&&(y("false write response, pause",z.awaitDrain),z.awaitDrain++),P.pause())}function Z(ae){y("onerror",ae),le(),h.removeListener("error",Z),t(h,"error")===0&&A(h,ae)}W(h,"error",Z);function ne(){h.removeListener("finish",oe),le()}h.once("close",ne);function oe(){y("onfinish"),h.removeListener("close",ne),le()}h.once("finish",oe);function le(){y("unpipe"),P.unpipe(h)}return h.emit("pipe",P),z.flowing||(y("pipe resume"),P.resume()),h};function ee(h){return function(){var P=h._readableState;y("pipeOnDrain",P.awaitDrain),P.awaitDrain&&P.awaitDrain--,P.awaitDrain===0&&t(h,"data")&&(P.flowing=!0,S(h))}}j.prototype.unpipe=function(h){var d=this._readableState,P={hasUnpiped:!1};if(d.pipesCount===0)return this;if(d.pipesCount===1)return h&&h!==d.pipes?this:(h||(h=d.pipes),d.pipes=null,d.pipesCount=0,d.flowing=!1,h&&h.emit("unpipe",this,P),this);if(!h){var z=d.pipes,fe=d.pipesCount;d.pipes=null,d.pipesCount=0,d.flowing=!1;for(var f=0;f<fe;f++)z[f].emit("unpipe",this,{hasUnpiped:!1});return this}var n=te(d.pipes,h);return n===-1?this:(d.pipes.splice(n,1),d.pipesCount-=1,d.pipesCount===1&&(d.pipes=d.pipes[0]),h.emit("unpipe",this,P),this)},j.prototype.on=function(h,d){var P=r.prototype.on.call(this,h,d),z=this._readableState;return h==="data"?(z.readableListening=this.listenerCount("readable")>0,z.flowing!==!1&&this.resume()):h==="readable"&&!z.endEmitted&&!z.readableListening&&(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,y("on readable",z.length,z.reading),z.length?U(this):z.reading||process.nextTick(Q,this)),P},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(h,d){var P=r.prototype.removeListener.call(this,h,d);return h==="readable"&&process.nextTick(re,this),P},j.prototype.removeAllListeners=function(h){var d=r.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&process.nextTick(re,this),d};function re(h){var d=h._readableState;d.readableListening=h.listenerCount("readable")>0,d.resumeScheduled&&!d.paused?d.flowing=!0:h.listenerCount("data")>0&&h.resume()}function Q(h){y("readable nexttick read 0"),h.read(0)}j.prototype.resume=function(){var h=this._readableState;return h.flowing||(y("resume"),h.flowing=!h.readableListening,ve(this,h)),h.paused=!1,this};function ve(h,d){d.resumeScheduled||(d.resumeScheduled=!0,process.nextTick(we,h,d))}function we(h,d){y("resume",d.reading),d.reading||h.read(0),d.resumeScheduled=!1,h.emit("resume"),S(h),d.flowing&&!d.reading&&h.read(0)}j.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function S(h){var d=h._readableState;for(y("flow",d.flowing);d.flowing&&h.read()!==null;);}j.prototype.wrap=function(h){var d=this,P=this._readableState,z=!1;h.on("end",function(){if(y("wrapped end"),P.decoder&&!P.ended){var n=P.decoder.end();n&&n.length&&d.push(n)}d.push(null)}),h.on("data",function(n){if(y("wrapped data"),P.decoder&&(n=P.decoder.write(n)),!(P.objectMode&&n==null)&&!(!P.objectMode&&(!n||!n.length))){var o=d.push(n);o||(z=!0,h.pause())}});for(var fe in h)this[fe]===void 0&&typeof h[fe]=="function"&&(this[fe]=function(o){return function(){return h[o].apply(h,arguments)}}(fe));for(var f=0;f<N.length;f++)h.on(N[f],this.emit.bind(this,N[f]));return this._read=function(n){y("wrapped _read",n),z&&(z=!1,h.resume())},this},typeof Symbol=="function"&&(j.prototype[Symbol.asyncIterator]=function(){return F===void 0&&(F=oa()),F(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(d){this._readableState&&(this._readableState.flowing=d)}}),j._fromList=O,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(h,d){if(d.length===0)return null;var P;return d.objectMode?P=d.buffer.shift():!h||h>=d.length?(d.decoder?P=d.buffer.join(""):d.buffer.length===1?P=d.buffer.first():P=d.buffer.concat(d.length),d.buffer.clear()):P=d.buffer.consume(h,d.decoder),P}function D(h){var d=h._readableState;y("endReadable",d.endEmitted),d.endEmitted||(d.ended=!0,process.nextTick(X,d,h))}function X(h,d){if(y("endReadableNT",h.endEmitted,h.length),!h.endEmitted&&h.length===0&&(h.endEmitted=!0,d.readable=!1,d.emit("end"),h.autoDestroy)){var P=d._writableState;(!P||P.autoDestroy&&P.finished)&&d.destroy()}}typeof Symbol=="function"&&(j.from=function(h,d){return E===void 0&&(E=aa()),E(j,h,d)});function te(h,d){for(var P=0,z=h.length;P<z;P++)if(h[P]===d)return P;return-1}return Kr}var Ri=Ge,Tr=ft.codes,sa=Tr.ERR_METHOD_NOT_IMPLEMENTED,ua=Tr.ERR_MULTIPLE_CALLBACK,fa=Tr.ERR_TRANSFORM_ALREADY_TRANSFORMING,la=Tr.ERR_TRANSFORM_WITH_LENGTH_0,xr=wt();st(Ge,xr);function ca(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new ua);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),i(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function Ge(e){if(!(this instanceof Ge))return new Ge(e);xr.call(this,e),this._transformState={afterTransform:ca.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",ha)}function ha(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Vn(e,t,r)}):Vn(this,null,null)}Ge.prototype.push=function(e,t){return this._transformState.needTransform=!1,xr.prototype.push.call(this,e,t)};Ge.prototype._transform=function(e,t,r){r(new sa("_transform()"))};Ge.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var a=this._readableState;(i.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};Ge.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Ge.prototype._destroy=function(e,t){xr.prototype._destroy.call(this,e,function(r){t(r)})};function Vn(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new la;if(e._transformState.transforming)throw new fa;return e.push(null)}var da=sr,Oi=Ri;st(sr,Oi);function sr(e){if(!(this instanceof sr))return new sr(e);Oi.call(this,e)}sr.prototype._transform=function(e,t,r){r(null,e)};var Vr;function pa(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Ai=ft.codes,ga=Ai.ERR_MISSING_ARGS,ya=Ai.ERR_STREAM_DESTROYED;function Jn(e){if(e)throw e}function va(e){return e.setHeader&&typeof e.abort=="function"}function wa(e,t,r,i){i=pa(i);var a=!1;e.on("close",function(){a=!0}),Vr===void 0&&(Vr=vn),Vr(e,{readable:t,writable:r},function(c){if(c)return i(c);a=!0,i()});var s=!1;return function(c){if(!a&&!s){if(s=!0,va(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();i(c||new ya("pipe"))}}}function Yn(e){e()}function ma(e,t){return e.pipe(t)}function _a(e){return!e.length||typeof e[e.length-1]!="function"?Jn:e.pop()}function ba(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=_a(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ga("streams");var a,s=t.map(function(c,u){var y=u<t.length-1,R=u>0;return wa(c,y,R,function(C){a||(a=C),C&&s.forEach(Yn),!y&&(s.forEach(Yn),i(a))})});return t.reduce(ma)}var Ea=ba;(function(e,t){t=e.exports=Si(),t.Stream=t,t.Readable=t,t.Writable=bi(),t.Duplex=wt(),t.Transform=Ri,t.PassThrough=da,t.finished=vn,t.pipeline=Ea})($o,ze);function Xn(e,t,r,i,a,s,c){try{var u=e[s](c),y=u.value}catch(R){r(R);return}u.done?t(y):Promise.resolve(y).then(i,a)}function ke(e){return function(){var t=this,r=arguments;return new Promise(function(i,a){var s=e.apply(t,r);function c(y){Xn(s,i,a,c,u,"next",y)}function u(y){Xn(s,i,a,c,u,"throw",y)}c(void 0)})}}const hu=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"}));var en={},Sa={get exports(){return en},set exports(e){en=e}},tn={},Ra={get exports(){return tn},set exports(e){tn=e}};(function(e){function t(r){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Ra);(function(e){var t=tn.default;function r(){e.exports=r=function(){return i},e.exports.__esModule=!0,e.exports.default=e.exports;var i={},a=Object.prototype,s=a.hasOwnProperty,c=Object.defineProperty||function(H,B,U){H[B]=U.value},u=typeof Symbol=="function"?Symbol:{},y=u.iterator||"@@iterator",R=u.asyncIterator||"@@asyncIterator",C=u.toStringTag||"@@toStringTag";function M(H,B,U){return Object.defineProperty(H,B,{value:U,enumerable:!0,configurable:!0,writable:!0}),H[B]}try{M({},"")}catch{M=function(U,K,Y){return U[K]=Y}}function w(H,B,U,K){var Y=B&&B.prototype instanceof L?B:L,V=Object.create(Y.prototype),ee=new ge(K||[]);return c(V,"_invoke",{value:q(H,U,ee)}),V}function b(H,B,U){try{return{type:"normal",arg:H.call(B,U)}}catch(K){return{type:"throw",arg:K}}}i.wrap=w;var x={};function L(){}function $(){}function g(){}var _={};M(_,y,function(){return this});var F=Object.getPrototypeOf,E=F&&F(F(ye([])));E&&E!==a&&s.call(E,y)&&(_=E);var A=g.prototype=L.prototype=Object.create(_);function N(H){["next","throw","return"].forEach(function(B){M(H,B,function(U){return this._invoke(B,U)})})}function W(H,B){function U(Y,V,ee,re){var Q=b(H[Y],H,V);if(Q.type!=="throw"){var ve=Q.arg,we=ve.value;return we&&t(we)=="object"&&s.call(we,"__await")?B.resolve(we.__await).then(function(S){U("next",S,ee,re)},function(S){U("throw",S,ee,re)}):B.resolve(we).then(function(S){ve.value=S,ee(ve)},function(S){return U("throw",S,ee,re)})}re(Q.arg)}var K;c(this,"_invoke",{value:function(V,ee){function re(){return new B(function(Q,ve){U(V,ee,Q,ve)})}return K=K?K.then(re,re):re()}})}function q(H,B,U){var K="suspendedStart";return function(Y,V){if(K==="executing")throw new Error("Generator is already running");if(K==="completed"){if(Y==="throw")throw V;return Re()}for(U.method=Y,U.arg=V;;){var ee=U.delegate;if(ee){var re=j(ee,U);if(re){if(re===x)continue;return re}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(K==="suspendedStart")throw K="completed",U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);K="executing";var Q=b(H,B,U);if(Q.type==="normal"){if(K=U.done?"completed":"suspendedYield",Q.arg===x)continue;return{value:Q.arg,done:U.done}}Q.type==="throw"&&(K="completed",U.method="throw",U.arg=Q.arg)}}}function j(H,B){var U=B.method,K=H.iterator[U];if(K===void 0)return B.delegate=null,U==="throw"&&H.iterator.return&&(B.method="return",B.arg=void 0,j(H,B),B.method==="throw")||U!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+U+"' method")),x;var Y=b(K,H.iterator,B.arg);if(Y.type==="throw")return B.method="throw",B.arg=Y.arg,B.delegate=null,x;var V=Y.arg;return V?V.done?(B[H.resultName]=V.value,B.next=H.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,x):V:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,x)}function J(H){var B={tryLoc:H[0]};1 in H&&(B.catchLoc=H[1]),2 in H&&(B.finallyLoc=H[2],B.afterLoc=H[3]),this.tryEntries.push(B)}function ue(H){var B=H.completion||{};B.type="normal",delete B.arg,H.completion=B}function ge(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(J,this),this.reset(!0)}function ye(H){if(H){var B=H[y];if(B)return B.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var U=-1,K=function Y(){for(;++U<H.length;)if(s.call(H,U))return Y.value=H[U],Y.done=!1,Y;return Y.value=void 0,Y.done=!0,Y};return K.next=K}}return{next:Re}}function Re(){return{value:void 0,done:!0}}return $.prototype=g,c(A,"constructor",{value:g,configurable:!0}),c(g,"constructor",{value:$,configurable:!0}),$.displayName=M(g,C,"GeneratorFunction"),i.isGeneratorFunction=function(H){var B=typeof H=="function"&&H.constructor;return!!B&&(B===$||(B.displayName||B.name)==="GeneratorFunction")},i.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,g):(H.__proto__=g,M(H,C,"GeneratorFunction")),H.prototype=Object.create(A),H},i.awrap=function(H){return{__await:H}},N(W.prototype),M(W.prototype,R,function(){return this}),i.AsyncIterator=W,i.async=function(H,B,U,K,Y){Y===void 0&&(Y=Promise);var V=new W(w(H,B,U,K),Y);return i.isGeneratorFunction(B)?V:V.next().then(function(ee){return ee.done?ee.value:V.next()})},N(A),M(A,C,"Generator"),M(A,y,function(){return this}),M(A,"toString",function(){return"[object Generator]"}),i.keys=function(H){var B=Object(H),U=[];for(var K in B)U.push(K);return U.reverse(),function Y(){for(;U.length;){var V=U.pop();if(V in B)return Y.value=V,Y.done=!1,Y}return Y.done=!0,Y}},i.values=ye,ge.prototype={constructor:ge,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ue),!B)for(var U in this)U.charAt(0)==="t"&&s.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=void 0)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var U=this;function K(ve,we){return ee.type="throw",ee.arg=B,U.next=ve,we&&(U.method="next",U.arg=void 0),!!we}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var V=this.tryEntries[Y],ee=V.completion;if(V.tryLoc==="root")return K("end");if(V.tryLoc<=this.prev){var re=s.call(V,"catchLoc"),Q=s.call(V,"finallyLoc");if(re&&Q){if(this.prev<V.catchLoc)return K(V.catchLoc,!0);if(this.prev<V.finallyLoc)return K(V.finallyLoc)}else if(re){if(this.prev<V.catchLoc)return K(V.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<V.finallyLoc)return K(V.finallyLoc)}}}},abrupt:function(B,U){for(var K=this.tryEntries.length-1;K>=0;--K){var Y=this.tryEntries[K];if(Y.tryLoc<=this.prev&&s.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var V=Y;break}}V&&(B==="break"||B==="continue")&&V.tryLoc<=U&&U<=V.finallyLoc&&(V=null);var ee=V?V.completion:{};return ee.type=B,ee.arg=U,V?(this.method="next",this.next=V.finallyLoc,x):this.complete(ee)},complete:function(B,U){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&U&&(this.next=U),x},finish:function(B){for(var U=this.tryEntries.length-1;U>=0;--U){var K=this.tryEntries[U];if(K.finallyLoc===B)return this.complete(K.completion,K.afterLoc),ue(K),x}},catch:function(B){for(var U=this.tryEntries.length-1;U>=0;--U){var K=this.tryEntries[U];if(K.tryLoc===B){var Y=K.completion;if(Y.type==="throw"){var V=Y.arg;ue(K)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(B,U,K){return this.delegate={iterator:ye(B),resultName:U,nextLoc:K},this.method==="next"&&(this.arg=void 0),x}},i}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(Sa);var gr=en(),_e=gr;try{regeneratorRuntime=gr}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=gr:Function("r","regeneratorRuntime = r")(gr)}var rn={},Qn={get exports(){return rn},set exports(e){rn=e}},Jr=65536,Oa=4294967295;function Aa(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Ta=ar.Buffer,wr=Ie.crypto||Ie.msCrypto;wr&&wr.getRandomValues?Qn.exports=xa:Qn.exports=Aa;function xa(e,t){if(e>Oa)throw new RangeError("requested too many random bytes");var r=Ta.allocUnsafe(e);if(e>0)if(e>Jr)for(var i=0;i<e;i+=Jr)wr.getRandomValues(r.slice(i,i+Jr));else wr.getRandomValues(r);return typeof t=="function"?process.nextTick(function(){t(null,r)}):r}var nn={},Ca={get exports(){return nn},set exports(e){nn=e}},wn={},mn={};Object.defineProperty(mn,"__esModule",{value:!0});function La(e){var t=4,r=e.length,i=r%t;if(!i)return e;var a=r,s=t-i,c=r+s,u=Buffer.alloc(c);for(u.write(e);s--;)u.write("=",a++);return u.toString()}mn.default=La;Object.defineProperty(wn,"__esModule",{value:!0});var Ma=mn;function Ti(e,t){return t===void 0&&(t="utf8"),Buffer.isBuffer(e)?on(e.toString("base64")):on(Buffer.from(e,t).toString("base64"))}function Na(e,t){return t===void 0&&(t="utf8"),Buffer.from(_n(e),"base64").toString(t)}function _n(e){return e=e.toString(),Ma.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function on(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pa(e){return Buffer.from(_n(e),"base64")}var _t=Ti;_t.encode=Ti;_t.decode=Na;_t.toBase64=_n;_t.fromBase64=on;_t.toBuffer=Pa;wn.default=_t;(function(e){e.exports=wn.default,e.exports.default=e.exports})(Ca);const Ia=nn,{Transform:ja}=ze;var Ba=e=>class xi extends ja{constructor(r,i,a,s,c){super(c),this._rate=r,this._capacity=i,this._delimitedSuffix=a,this._hashBitLength=s,this._options=c,this._state=new e,this._state.initialize(r,i),this._finalized=!1}_transform(r,i,a){let s=null;try{this.update(r,i)}catch(c){s=c}a(s)}_flush(r){let i=null;try{this.push(this.digest())}catch(a){i=a}r(i)}update(r,i){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,i)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let i=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(i=i.toString(r)),this._resetState(),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new xi(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Fa}=ze;var ka=e=>class Ci extends Fa{constructor(r,i,a,s){super(s),this._rate=r,this._capacity=i,this._delimitedSuffix=a,this._options=s,this._state=new e,this._state.initialize(r,i),this._finalized=!1}_transform(r,i,a){let s=null;try{this.update(r,i)}catch(c){s=c}a(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,i){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,i)),this._state.absorb(r),this}squeeze(r,i){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let a=this._state.squeeze(r);return i!==void 0&&(a=a.toString(i)),a}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Ci(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Da=Ba,Ua=ka;var $a=function(e){const t=Da(e),r=Ua(e);return function(i,a){switch(typeof i=="string"?i.toLowerCase():i){case"keccak224":return new t(1152,448,null,224,a);case"keccak256":return new t(1088,512,null,256,a);case"keccak384":return new t(832,768,null,384,a);case"keccak512":return new t(576,1024,null,512,a);case"sha3-224":return new t(1152,448,6,224,a);case"sha3-256":return new t(1088,512,6,256,a);case"sha3-384":return new t(832,768,6,384,a);case"sha3-512":return new t(576,1024,6,512,a);case"shake128":return new r(1344,256,31,a);case"shake256":return new r(1088,512,31,a);default:throw new Error("Invald algorithm: "+i)}}},Li={};const Zn=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Li.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],y=e[6]^e[16]^e[26]^e[36]^e[46],R=e[7]^e[17]^e[27]^e[37]^e[47],C=e[8]^e[18]^e[28]^e[38]^e[48],M=e[9]^e[19]^e[29]^e[39]^e[49];let w=C^(a<<1|s>>>31),b=M^(s<<1|a>>>31);const x=e[0]^w,L=e[1]^b,$=e[10]^w,g=e[11]^b,_=e[20]^w,F=e[21]^b,E=e[30]^w,A=e[31]^b,N=e[40]^w,W=e[41]^b;w=r^(c<<1|u>>>31),b=i^(u<<1|c>>>31);const q=e[2]^w,j=e[3]^b,J=e[12]^w,ue=e[13]^b,ge=e[22]^w,ye=e[23]^b,Re=e[32]^w,H=e[33]^b,B=e[42]^w,U=e[43]^b;w=a^(y<<1|R>>>31),b=s^(R<<1|y>>>31);const K=e[4]^w,Y=e[5]^b,V=e[14]^w,ee=e[15]^b,re=e[24]^w,Q=e[25]^b,ve=e[34]^w,we=e[35]^b,S=e[44]^w,O=e[45]^b;w=c^(C<<1|M>>>31),b=u^(M<<1|C>>>31);const D=e[6]^w,X=e[7]^b,te=e[16]^w,h=e[17]^b,d=e[26]^w,P=e[27]^b,z=e[36]^w,fe=e[37]^b,f=e[46]^w,n=e[47]^b;w=y^(r<<1|i>>>31),b=R^(i<<1|r>>>31);const o=e[8]^w,p=e[9]^b,m=e[18]^w,I=e[19]^b,k=e[28]^w,Z=e[29]^b,ne=e[38]^w,oe=e[39]^b,le=e[48]^w,ae=e[49]^b,me=x,$e=L,qe=g<<4|$>>>28,lt=$<<4|g>>>28,ct=_<<3|F>>>29,ht=F<<3|_>>>29,Et=A<<9|E>>>23,St=E<<9|A>>>23,Ne=N<<18|W>>>14,Ke=W<<18|N>>>14,Rt=q<<1|j>>>31,dt=j<<1|q>>>31,Ot=ue<<12|J>>>20,pt=J<<12|ue>>>20,He=ge<<10|ye>>>22,At=ye<<10|ge>>>22,Pe=H<<13|Re>>>19,Tt=Re<<13|H>>>19,xt=B<<2|U>>>30,Ct=U<<2|B>>>30,Lt=Y<<30|K>>>2,Mt=K<<30|Y>>>2,Ae=V<<6|ee>>>26,Nt=ee<<6|V>>>26,Pt=Q<<11|re>>>21,It=re<<11|Q>>>21,jt=ve<<15|we>>>17,Bt=we<<15|ve>>>17,Be=O<<29|S>>>3,Ft=S<<29|O>>>3,kt=D<<28|X>>>4,Dt=X<<28|D>>>4,Ut=h<<23|te>>>9,$t=te<<23|h>>>9,Fe=d<<25|P>>>7,qt=P<<25|d>>>7,Ht=z<<21|fe>>>11,Wt=fe<<21|z>>>11,zt=n<<24|f>>>8,Gt=f<<24|n>>>8,Kt=o<<27|p>>>5,rt=p<<27|o>>>5,Vt=m<<20|I>>>12,Ve=I<<20|m>>>12,nt=Z<<7|k>>>25,Jt=k<<7|Z>>>25,Je=ne<<8|oe>>>24,gt=oe<<8|ne>>>24,Yt=le<<14|ae>>>18,Xt=ae<<14|le>>>18;e[0]=me^~Ot&Pt,e[1]=$e^~pt&It,e[10]=kt^~Vt&ct,e[11]=Dt^~Ve&ht,e[20]=Rt^~Ae&Fe,e[21]=dt^~Nt&qt,e[30]=Kt^~qe&He,e[31]=rt^~lt&At,e[40]=Lt^~Ut&nt,e[41]=Mt^~$t&Jt,e[2]=Ot^~Pt&Ht,e[3]=pt^~It&Wt,e[12]=Vt^~ct&Pe,e[13]=Ve^~ht&Tt,e[22]=Ae^~Fe&Je,e[23]=Nt^~qt&gt,e[32]=qe^~He&jt,e[33]=lt^~At&Bt,e[42]=Ut^~nt&Et,e[43]=$t^~Jt&St,e[4]=Pt^~Ht&Yt,e[5]=It^~Wt&Xt,e[14]=ct^~Pe&Be,e[15]=ht^~Tt&Ft,e[24]=Fe^~Je&Ne,e[25]=qt^~gt&Ke,e[34]=He^~jt&zt,e[35]=At^~Bt&Gt,e[44]=nt^~Et&xt,e[45]=Jt^~St&Ct,e[6]=Ht^~Yt&me,e[7]=Wt^~Xt&$e,e[16]=Pe^~Be&kt,e[17]=Tt^~Ft&Dt,e[26]=Je^~Ne&Rt,e[27]=gt^~Ke&dt,e[36]=jt^~zt&Kt,e[37]=Bt^~Gt&rt,e[46]=Et^~xt&Lt,e[47]=St^~Ct&Mt,e[8]=Yt^~me&Ot,e[9]=Xt^~$e&pt,e[18]=Be^~kt&Vt,e[19]=Ft^~Dt&Ve,e[28]=Ne^~Rt&Ae,e[29]=Ke^~dt&Nt,e[38]=zt^~Kt&qe,e[39]=Gt^~rt&lt,e[48]=xt^~Lt&Ut,e[49]=Ct^~Mt&$t,e[0]^=Zn[t*2],e[1]^=Zn[t*2+1]}};const mr=Li;function bt(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}bt.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};bt.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(mr.p1600(this.state),this.count=0)};bt.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&mr.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),mr.p1600(this.state),this.count=0,this.squeezing=!0};bt.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(mr.p1600(this.state),this.count=0);return t};bt.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var qa=bt,Ha=$a(qa);const Wa=()=>rn(32).toString("hex"),Mi=Ia;function du(e){return Mi.decode(e)}const pu=Ha;function gu(e){return Mi.encode(JSON.stringify(e))}var za=gn();function Ga(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ka(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yr(e,t,r){return Ka()?yr=Reflect.construct.bind():yr=function(a,s,c){var u=[null];u.push.apply(u,s);var y=Function.bind.apply(a,u),R=new y;return c&&or(R,c.prototype),R},yr.apply(null,arguments)}function an(e){var t=typeof Map=="function"?new Map:void 0;return an=function(i){if(i===null||!Ga(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(i))return t.get(i);t.set(i,a)}function a(){return yr(i,arguments,Ee(this).constructor)}return a.prototype=Object.create(i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),or(a,i)},an(e)}var Ni=ur;ur.default=ur;ur.stable=ji;ur.stableStringify=ji;var _r="[...]",Pi="[Circular]",ut=[],ot=[];function Ii(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ur(e,t,r,i){typeof i>"u"&&(i=Ii()),sn(e,"",0,[],void 0,0,i);var a;try{ot.length===0?a=JSON.stringify(e,t,r):a=JSON.stringify(e,Bi(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ut.length!==0;){var s=ut.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return a}function vt(e,t,r,i){var a=Object.getOwnPropertyDescriptor(i,r);a.get!==void 0?a.configurable?(Object.defineProperty(i,r,{value:e}),ut.push([i,r,t,a])):ot.push([t,r,e]):(i[r]=e,ut.push([i,r,t]))}function sn(e,t,r,i,a,s,c){s+=1;var u;if(typeof e=="object"&&e!==null){for(u=0;u<i.length;u++)if(i[u]===e){vt(Pi,e,t,a);return}if(typeof c.depthLimit<"u"&&s>c.depthLimit){vt(_r,e,t,a);return}if(typeof c.edgesLimit<"u"&&r+1>c.edgesLimit){vt(_r,e,t,a);return}if(i.push(e),Array.isArray(e))for(u=0;u<e.length;u++)sn(e[u],u,u,i,e,s,c);else{var y=Object.keys(e);for(u=0;u<y.length;u++){var R=y[u];sn(e[R],R,u,i,e,s,c)}}i.pop()}}function Va(e,t){return e<t?-1:e>t?1:0}function ji(e,t,r,i){typeof i>"u"&&(i=Ii());var a=un(e,"",0,[],void 0,0,i)||e,s;try{ot.length===0?s=JSON.stringify(a,t,r):s=JSON.stringify(a,Bi(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ut.length!==0;){var c=ut.pop();c.length===4?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return s}function un(e,t,r,i,a,s,c){s+=1;var u;if(typeof e=="object"&&e!==null){for(u=0;u<i.length;u++)if(i[u]===e){vt(Pi,e,t,a);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof c.depthLimit<"u"&&s>c.depthLimit){vt(_r,e,t,a);return}if(typeof c.edgesLimit<"u"&&r+1>c.edgesLimit){vt(_r,e,t,a);return}if(i.push(e),Array.isArray(e))for(u=0;u<e.length;u++)un(e[u],u,u,i,e,s,c);else{var y={},R=Object.keys(e).sort(Va);for(u=0;u<R.length;u++){var C=R[u];un(e[C],C,u,i,e,s,c),y[C]=e[C]}if(typeof a<"u")ut.push([a,t,e]),a[t]=y;else return y}i.pop()}}function Bi(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(ot.length>0)for(var i=0;i<ot.length;i++){var a=ot[i];if(a[1]===t&&a[0]===r){r=a[2],ot.splice(i,1);break}}return e.call(this,t,r)}}function Ja(e){if(Array.isArray(e))return e}function Ya(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,s,c,u=[],y=!0,R=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;y=!1}else for(;!(y=(i=s.call(r)).done)&&(u.push(i.value),u.length!==t);y=!0);}catch(C){R=!0,a=C}finally{try{if(!y&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(R)throw a}}return u}}function ei(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function Xa(e,t){if(e){if(typeof e=="string")return ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ei(e,t)}}function Qa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yr(e,t){return Ja(e)||Ya(e,t)||Xa(e,t)||Qa()}var fn={},Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.EthereumProviderError=Ye.EthereumRpcError=void 0;const Za=Ni;class Fi extends Error{constructor(t,r,i){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,i!==void 0&&(this.data=i)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return Za.default(this.serialize(),rs,2)}}Ye.EthereumRpcError=Fi;class es extends Fi{constructor(t,r,i){if(!ts(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,i)}}Ye.EthereumProviderError=es;function ts(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function rs(e,t){if(t!=="[Circular]")return t}var bn={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.errorValues=Xe.errorCodes=void 0;Xe.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Xe.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Xe,r=Ye,i=t.errorCodes.rpc.internal,a="Unspecified error message. This is a bug, please report it.",s={code:i,message:c(i)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function c(w,b=a){if(Number.isInteger(w)){const x=w.toString();if(M(t.errorValues,x))return t.errorValues[x].message;if(R(w))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return b}e.getMessageFromCode=c;function u(w){if(!Number.isInteger(w))return!1;const b=w.toString();return!!(t.errorValues[b]||R(w))}e.isValidCode=u;function y(w,{fallbackError:b=s,shouldIncludeStack:x=!1}={}){var L,$;if(!b||!Number.isInteger(b.code)||typeof b.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(w instanceof r.EthereumRpcError)return w.serialize();const g={};if(w&&typeof w=="object"&&!Array.isArray(w)&&M(w,"code")&&u(w.code)){const F=w;g.code=F.code,F.message&&typeof F.message=="string"?(g.message=F.message,M(F,"data")&&(g.data=F.data)):(g.message=c(g.code),g.data={originalError:C(w)})}else{g.code=b.code;const F=(L=w)===null||L===void 0?void 0:L.message;g.message=F&&typeof F=="string"?F:b.message,g.data={originalError:C(w)}}const _=($=w)===null||$===void 0?void 0:$.stack;return x&&w&&_&&typeof _=="string"&&(g.stack=_),g}e.serializeError=y;function R(w){return w>=-32099&&w<=-32e3}function C(w){return w&&typeof w=="object"&&!Array.isArray(w)?Object.assign({},w):w}function M(w,b){return Object.prototype.hasOwnProperty.call(w,b)}})(bn);var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.ethErrors=void 0;const En=Ye,ki=bn,Oe=Xe;Cr.ethErrors={rpc:{parse:e=>Ce(Oe.errorCodes.rpc.parse,e),invalidRequest:e=>Ce(Oe.errorCodes.rpc.invalidRequest,e),invalidParams:e=>Ce(Oe.errorCodes.rpc.invalidParams,e),methodNotFound:e=>Ce(Oe.errorCodes.rpc.methodNotFound,e),internal:e=>Ce(Oe.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ce(t,e)},invalidInput:e=>Ce(Oe.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>Ce(Oe.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>Ce(Oe.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>Ce(Oe.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>Ce(Oe.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>Ce(Oe.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>er(Oe.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>er(Oe.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>er(Oe.errorCodes.provider.unsupportedMethod,e),disconnected:e=>er(Oe.errorCodes.provider.disconnected,e),chainDisconnected:e=>er(Oe.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new En.EthereumProviderError(t,r,i)}}};function Ce(e,t){const[r,i]=Di(t);return new En.EthereumRpcError(e,r||ki.getMessageFromCode(e),i)}function er(e,t){const[r,i]=Di(t);return new En.EthereumProviderError(e,r||ki.getMessageFromCode(e),i)}function Di(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Ye;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=bn;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const i=Cr;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return i.ethErrors}});const a=Xe;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})})(fn);var mt={},ns={get exports(){return mt},set exports(e){mt=e}},is=Ui;function Ui(e,t){if(e&&t)return Ui(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(i){r[i]=e[i]}),r;function r(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];var s=e.apply(this,i),c=i[i.length-1];return typeof s=="function"&&s!==c&&Object.keys(c).forEach(function(u){s[u]=c[u]}),s}}var $i=is;ns.exports=$i(vr);mt.strict=$i(qi);vr.proto=vr(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return vr(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return qi(this)},configurable:!0})});function vr(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function qi(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}var os=mt,as=function(){},ss=function(e){return e.setHeader&&typeof e.abort=="function"},us=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},Hi=function(e,t,r){if(typeof t=="function")return Hi(e,null,t);t||(t={}),r=os(r||as);var i=e._writableState,a=e._readableState,s=t.readable||t.readable!==!1&&e.readable,c=t.writable||t.writable!==!1&&e.writable,u=!1,y=function(){e.writable||R()},R=function(){c=!1,s||r.call(e)},C=function(){s=!1,c||r.call(e)},M=function($){r.call(e,$?new Error("exited with error code: "+$):null)},w=function($){r.call(e,$)},b=function(){process.nextTick(x)},x=function(){if(!u){if(s&&!(a&&a.ended&&!a.destroyed))return r.call(e,new Error("premature close"));if(c&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"))}},L=function(){e.req.on("finish",R)};return ss(e)?(e.on("complete",R),e.on("abort",b),e.req?L():e.on("request",L)):c&&!i&&(e.on("end",y),e.on("close",y)),us(e)&&e.on("exit",M),e.on("end",C),e.on("finish",R),t.error!==!1&&e.on("error",w),e.on("close",b),function(){u=!0,e.removeListener("complete",R),e.removeListener("abort",b),e.removeListener("request",L),e.req&&e.req.removeListener("finish",R),e.removeListener("end",y),e.removeListener("close",y),e.removeListener("finish",R),e.removeListener("exit",M),e.removeListener("end",C),e.removeListener("error",w),e.removeListener("close",b)}},ln=Hi,fs=mt,ls=ln,Xr=pn,fr=function(){},cs=/^v?\.0/.test(process.version),Lr=function(e){return typeof e=="function"},hs=function(e){return!cs||!Xr?!1:(e instanceof(Xr.ReadStream||fr)||e instanceof(Xr.WriteStream||fr))&&Lr(e.close)},ds=function(e){return e.setHeader&&Lr(e.abort)},ps=function(e,t,r,i){i=fs(i);var a=!1;e.on("close",function(){a=!0}),ls(e,{readable:t,writable:r},function(c){if(c)return i(c);a=!0,i()});var s=!1;return function(c){if(!a&&!s){if(s=!0,hs(e))return e.close(fr);if(ds(e))return e.abort();if(Lr(e.destroy))return e.destroy();i(c||new Error("stream was destroyed"))}}},ti=function(e){e()},gs=function(e,t){return e.pipe(t)},ys=function(){var e=Array.prototype.slice.call(arguments),t=Lr(e[e.length-1]||fr)&&e.pop()||fr;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,i=e.map(function(a,s){var c=s<e.length-1,u=s>0;return ps(a,c,u,function(y){r||(r=y),y&&i.forEach(ti),!c&&(i.forEach(ti),t(r))})});return e.reduce(gs)},vs=ys;function ws(e){var t=ms();return function(){var i=Ee(e),a;if(t){var s=Ee(this).constructor;a=Reflect.construct(i,arguments,s)}else a=i.apply(this,arguments);return tt(this,a)}}function ms(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dr(){}var ri="SYN",Qr="ACK",ni="BRK",_s=function(e){et(r,e);var t=ws(r);function r(i){var a,s=i.name,c=i.target,u=i.targetWindow,y=u===void 0?window:u,R=i.targetOrigin,C=R===void 0?"*":R;if(Qe(this,r),a=t.call(this,{objectMode:!0}),he(Se(a),"_init",void 0),he(Se(a),"_haveSyn",void 0),he(Se(a),"_name",void 0),he(Se(a),"_target",void 0),he(Se(a),"_targetWindow",void 0),he(Se(a),"_targetOrigin",void 0),he(Se(a),"_onMessage",void 0),he(Se(a),"_synIntervalId",void 0),!s||!c)throw new Error("Invalid input.");return a._init=!1,a._haveSyn=!1,a._name=s,a._target=c,a._targetWindow=y,a._targetOrigin=C,a._onMessage=a.onMessage.bind(Se(a)),a._synIntervalId=null,window.addEventListener("message",a._onMessage,!1),a._handShake(),a}return Ze(r,[{key:"_break",value:function(){this.cork(),this._write(ni,null,dr),this._haveSyn=!1,this._init=!1}},{key:"_handShake",value:function(){this._write(ri,null,dr),this.cork()}},{key:"_onData",value:function(a){if(!this._init)a===ri?(this._haveSyn=!0,this._write(Qr,null,dr)):a===Qr&&(this._init=!0,this._haveSyn||this._write(Qr,null,dr),this.uncork());else if(a===ni)this._break();else try{this.push(a)}catch(s){this.emit("error",s)}}},{key:"_postMessage",value:function(a){var s=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:a},s)}},{key:"onMessage",value:function(a){var s=a.data;this._targetOrigin!=="*"&&a.origin!==this._targetOrigin||a.source!==this._targetWindow||je(s)!=="object"||s.target!==this._name||!s.data||this._onData(s.data)}},{key:"_read",value:function(){}},{key:"_write",value:function(a,s,c){this._postMessage(a),c()}},{key:"_destroy",value:function(){window.removeEventListener("message",this._onMessage,!1)}}]),r}(ze.Duplex);function bs(e){var t=Es();return function(){var i=Ee(e),a;if(t){var s=Ee(this).constructor;a=Reflect.construct(i,arguments,s)}else a=i.apply(this,arguments);return tt(this,a)}}function Es(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ii(e,t,r){try{Reflect.apply(e,t,r)}catch(i){setTimeout(function(){throw i})}}function Ss(e){for(var t=e.length,r=new Array(t),i=0;i<t;i+=1)r[i]=e[i];return r}var Sn=function(e){et(r,e);var t=bs(r);function r(){return Qe(this,r),t.apply(this,arguments)}return Ze(r,[{key:"emit",value:function(a){var s=a==="error",c=this._events;if(c!==void 0)s=s&&c.error===void 0;else if(!s)return!1;for(var u=arguments.length,y=new Array(u>1?u-1:0),R=1;R<u;R++)y[R-1]=arguments[R];if(s){var C;if(y.length>0&&(C=y[0]),C instanceof Error)throw C;var M=new Error("Unhandled error.".concat(C?" (".concat(C.message,")"):""));throw M.context=C,M}var w=c[a];if(w===void 0)return!1;if(typeof w=="function")ii(w,this,y);else for(var b=w.length,x=Ss(w),L=0;L<b;L+=1)ii(x[L],this,y);return!0}}]),r}(za.EventEmitter);function Rs(e){var t=Os();return function(){var i=Ee(e),a;if(t){var s=Ee(this).constructor;a=Reflect.construct(i,arguments,s)}else a=i.apply(this,arguments);return tt(this,a)}}function Os(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var tr=function(e){et(r,e);var t=Rs(r);function r(i){var a,s=i.code,c=i.message,u=i.data;if(Qe(this,r),!Number.isInteger(s))throw new Error("code must be an integer");if(!c||typeof c!="string")throw new Error("message must be string");return a=t.call(this,c),he(Se(a),"code",void 0),he(Se(a),"data",void 0),a.code=s,u!==void 0&&(a.data=u),a}return Ze(r,[{key:"toString",value:function(){return Ni({code:this.code,message:this.message,data:this.data,stack:this.stack})}}]),r}(an(Error)),yu=function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return function(a,s){a||s.error?r(a||s.error):!i||Array.isArray(s)?t(s):t(s.result)}};function vu(){var e={};function t(){return!1}var r=new Sn;function i(y){var R=e[y.id];if(!R)throw new Error('StreamMiddleware - Unknown response id "'.concat(y.id,'"'));delete e[y.id],Object.assign(R.res,y),setTimeout(R.end)}function a(y){r.emit("notification",y)}function s(y,R,C){var M;try{var w=!y.id;w?a(y):i(y)}catch(b){M=b}C(M)}var c=new ze.Duplex({objectMode:!0,read:t,write:s}),u=function(R,C,M,w){c.push(R),e[R.id]={req:R,res:C,next:M,end:w}};return{events:r,middleware:u,stream:c}}function wu(e){return function(t,r,i,a){var s=e[t.method];return s===void 0?i():typeof s=="function"?s(t,r,i,a):(r.result=s,a())}}function mu(){return function(e,t,r,i){var a=e.id,s=Wa();e.id=s,t.id=s,r(function(c){e.id=a,t.id=a,c()})}}function _u(e){return function(){var t=ke(_e.mark(function r(i,a,s,c){var u,y,R,C,M;return _e.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return y=new Promise(function(x){u=x}),R=null,C=!1,M=function(){var x=ke(_e.mark(function L(){return _e.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return C=!0,s(function(_){R=_,u()}),g.next=4,y;case 4:case"end":return g.stop()}},L)}));return function(){return x.apply(this,arguments)}}(),b.prev=4,b.next=7,e(i,a,M);case 7:if(!C){b.next=13;break}return b.next=10,y;case 10:R(null),b.next=14;break;case 13:c(null);case 14:b.next=19;break;case 16:b.prev=16,b.t0=b.catch(4),R?R(b.t0):c(b.t0);case 19:case"end":return b.stop()}},r,null,[[4,16]])}));return function(r,i,a,s){return t.apply(this,arguments)}}()}function oi(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=As(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(R){throw R},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,c=!1,u;return{s:function(){r=r.call(e)},n:function(){var R=r.next();return s=R.done,R},e:function(R){c=!0,u=R},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(c)throw u}}}}function As(e,t){if(e){if(typeof e=="string")return ai(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ai(e,t)}}function ai(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function Ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?si(Object(r),!0).forEach(function(i){he(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):si(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function xs(e){var t=Cs();return function(){var i=Ee(e),a;if(t){var s=Ee(this).constructor;a=Reflect.construct(i,arguments,s)}else a=i.apply(this,arguments);return tt(this,a)}}function Cs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ls=function(e){et(r,e);var t=xs(r);function r(){var i;return Qe(this,r),i=t.call(this),he(Se(i),"_middleware",void 0),i._middleware=[],i}return Ze(r,[{key:"push",value:function(a){this._middleware.push(a)}},{key:"handle",value:function(a,s){if(s&&typeof s!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(a)?s?this._handleBatch(a,s):this._handleBatch(a):s?this._handle(a,s):this._promiseHandle(a)}},{key:"asMiddleware",value:function(){var a=this;return function(){var s=ke(_e.mark(function c(u,y,R,C){var M,w,b,x,L;return _e.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,r._runAllMiddleware(u,y,a._middleware);case 3:if(M=g.sent,w=Yr(M,3),b=w[0],x=w[1],L=w[2],!x){g.next=12;break}return g.next=11,r._runReturnHandlers(L);case 11:return g.abrupt("return",C(b));case 12:return g.abrupt("return",R(function(){var _=ke(_e.mark(function F(E){return _e.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,r._runReturnHandlers(L);case 3:N.next=8;break;case 5:return N.prev=5,N.t0=N.catch(0),N.abrupt("return",E(N.t0));case 8:return N.abrupt("return",E());case 9:case"end":return N.stop()}},F,null,[[0,5]])}));return function(F){return _.apply(this,arguments)}}()));case 15:return g.prev=15,g.t0=g.catch(0),g.abrupt("return",C(g.t0));case 18:case"end":return g.stop()}},c,null,[[0,15]])}));return function(c,u,y,R){return s.apply(this,arguments)}}()}},{key:"_handleBatch",value:function(){var i=ke(_e.mark(function s(c,u){var y;return _e.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.prev=0,C.next=3,Promise.all(c.map(this._promiseHandle.bind(this)));case 3:if(y=C.sent,!u){C.next=6;break}return C.abrupt("return",u(null,y));case 6:return C.abrupt("return",y);case 9:if(C.prev=9,C.t0=C.catch(0),!u){C.next=13;break}return C.abrupt("return",u(C.t0));case 13:throw C.t0;case 14:case"end":return C.stop()}},s,this,[[0,9]])}));function a(s,c){return i.apply(this,arguments)}return a}()},{key:"_promiseHandle",value:function(a){var s=this;return new Promise(function(c){s._handle(a,function(u,y){c(y)})})}},{key:"_handle",value:function(){var i=ke(_e.mark(function s(c,u){var y,R,C,M,w;return _e.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!(!c||Array.isArray(c)||je(c)!=="object")){x.next=3;break}return y=new tr({code:-32603,message:"request must be plain object"}),x.abrupt("return",u(y,{id:void 0,jsonrpc:"2.0",error:y}));case 3:if(typeof c.method=="string"){x.next=6;break}return R=new tr({code:-32603,message:"method must be string"}),x.abrupt("return",u(R,{id:c.id,jsonrpc:"2.0",error:R}));case 6:return C=Ts({},c),M={id:C.id,jsonrpc:C.jsonrpc},w=null,x.prev=9,x.next=12,this._processRequest(C,M);case 12:x.next=17;break;case 14:x.prev=14,x.t0=x.catch(9),w=x.t0;case 17:return w&&(delete M.result,M.error||(M.error=fn.serializeError(w))),x.abrupt("return",u(w,M));case 19:case"end":return x.stop()}},s,this,[[9,14]])}));function a(s,c){return i.apply(this,arguments)}return a}()},{key:"_processRequest",value:function(){var i=ke(_e.mark(function s(c,u){var y,R,C,M,w;return _e.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,r._runAllMiddleware(c,u,this._middleware);case 2:return y=x.sent,R=Yr(y,3),C=R[0],M=R[1],w=R[2],r._checkForCompletion(c,u,M),x.next=10,r._runReturnHandlers(w);case 10:if(!C){x.next=12;break}throw C;case 12:case"end":return x.stop()}},s,this)}));function a(s,c){return i.apply(this,arguments)}return a}()}],[{key:"_runAllMiddleware",value:function(){var i=ke(_e.mark(function s(c,u,y){var R,C,M,w,b,x,L,$;return _e.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:R=[],C=null,M=!1,w=oi(y),_.prev=4,w.s();case 6:if((b=w.n()).done){_.next=18;break}return x=b.value,_.next=10,r._runMiddleware(c,u,x,R);case 10:if(L=_.sent,$=Yr(L,2),C=$[0],M=$[1],!M){_.next=16;break}return _.abrupt("break",18);case 16:_.next=6;break;case 18:_.next=23;break;case 20:_.prev=20,_.t0=_.catch(4),w.e(_.t0);case 23:return _.prev=23,w.f(),_.finish(23);case 26:return _.abrupt("return",[C,M,R.reverse()]);case 27:case"end":return _.stop()}},s,null,[[4,20,23,26]])}));function a(s,c,u){return i.apply(this,arguments)}return a}()},{key:"_runMiddleware",value:function(a,s,c,u){return new Promise(function(y){var R=function(w){var b=w||s.error;b&&(s.error=fn.serializeError(b)),y([b,!0])},C=function(w){s.error?R(s.error):(w&&(typeof w!="function"&&R(new tr({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),u.push(w)),y([null,!1]))};try{c(a,s,C,R)}catch(M){R(M)}})}},{key:"_runReturnHandlers",value:function(){var i=ke(_e.mark(function s(c){var u,y,R;return _e.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:u=oi(c),M.prev=1,R=_e.mark(function w(){var b;return _e.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return b=y.value,L.next=3,new Promise(function($,g){b(function(_){return _?g(_):$()})});case 3:case"end":return L.stop()}},w)}),u.s();case 4:if((y=u.n()).done){M.next=8;break}return M.delegateYield(R(),"t0",6);case 6:M.next=4;break;case 8:M.next=13;break;case 10:M.prev=10,M.t1=M.catch(1),u.e(M.t1);case 13:return M.prev=13,u.f(),M.finish(13);case 16:case"end":return M.stop()}},s,null,[[1,10,13,16]])}));function a(s){return i.apply(this,arguments)}return a}()},{key:"_checkForCompletion",value:function(a,s,c){if(!("result"in s)&&!("error"in s))throw new tr({code:-32603,message:"Response has no error or result for request"});if(!c)throw new tr({code:-32603,message:"Nothing ended request"})}}]),r}(Sn);function bu(e){var t=new Ls;return e.forEach(function(r){return t.push(r)}),t.asMiddleware()}function Ms(e){var t=Ns();return function(){var i=Ee(e),a;if(t){var s=Ee(this).constructor;a=Reflect.construct(i,arguments,s)}else a=i.apply(this,arguments);return tt(this,a)}}function Ns(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ps=function(e){et(r,e);var t=Ms(r);function r(i){var a,s=i.parent,c=i.name;return Qe(this,r),a=t.call(this,{objectMode:!0}),he(Se(a),"_parent",void 0),he(Se(a),"_name",void 0),a._parent=s,a._name=c,a}return Ze(r,[{key:"_read",value:function(){}},{key:"_write",value:function(a,s,c){this._parent.push({name:this._name,data:a}),c()}}]),r}(ze.Duplex);function ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ui(Object(r),!0).forEach(function(i){he(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ui(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Is(e){var t=js();return function(){var i=Ee(e),a;if(t){var s=Ee(this).constructor;a=Reflect.construct(i,arguments,s)}else a=i.apply(this,arguments);return tt(this,a)}}function js(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var li=Symbol("IGNORE_SUBSTREAM"),Bs=function(e){et(r,e);var t=Is(r);function r(){var i,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Qe(this,r),i=t.call(this,fi(fi({},a),{},{objectMode:!0})),he(Se(i),"_substreams",void 0),he(Se(i),"getStream",void 0),i._substreams={},i}return Ze(r,[{key:"createStream",value:function(a){if(!a)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[a])throw new Error('ObjectMultiplex - Substream for name "'.concat(a,'" already exists'));var s=new Ps({parent:this,name:a});return this._substreams[a]=s,Fs(this,function(c){return s.destroy(c||void 0)}),s}},{key:"ignoreStream",value:function(a){if(!a)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[a])throw new Error('ObjectMultiplex - Substream for name "'.concat(a,'" already exists'));this._substreams[a]=li}},{key:"_read",value:function(){}},{key:"_write",value:function(a,s,c){var u=a.name,y=a.data;if(!u)return window.console.warn('ObjectMultiplex - malformed chunk without name "'.concat(a,'"')),c();var R=this._substreams[u];return R?(R!==li&&R.push(y),c()):(window.console.warn('ObjectMultiplex - orphaned data for stream "'.concat(u,'"')),c())}}]),r}(ze.Duplex);function Fs(e,t){var r=mt(t);ln(e,{readable:!1},r),ln(e,{writable:!1},r)}function Eu(e){var t=new Bs;return t.getStream=function(i){return this._substreams[i]?this._substreams[i]:this.createStream(i)},vs(e,t,e,function(r){r&&window.console.error(r)}),t}function ks(e){var t=Ds();return function(){var i=Ee(e),a;if(t){var s=Ee(this).constructor;a=Reflect.construct(i,arguments,s)}else a=i.apply(this,arguments);return tt(this,a)}}function Ds(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Su=function(e){et(r,e);var t=ks(r);function r(){return Qe(this,r),t.apply(this,arguments)}return Ze(r,[{key:"_postMessage",value:function(a){var s=this._targetOrigin;if(je(a)==="object"){var c=a;if(je(c.data)==="object"){var u=c.data;if(Array.isArray(u.params)&&u.params.length>0){var y=u.params[0];y._origin&&(s=y._origin),y._origin=window.location.origin}}}this._targetWindow.postMessage({target:this._target,data:a},s)}}]),r}(_s);function Us(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function $s(e,t){t===void 0&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var qs=function(){var e=function(r,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])},e(r,i)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}(),Hs=function(e){qs(t,e);function t(r,i){var a=this.constructor,s=e.call(this,r,i)||this;return Object.defineProperty(s,"name",{value:a.name,enumerable:!1,configurable:!0}),Us(s,a.prototype),$s(s),s}return t}(Error),br={},Ws={get exports(){return br},set exports(e){br=e}};(function(e,t){var r=200,i="__lodash_hash_undefined__",a=800,s=16,c=9007199254740991,u="[object Arguments]",y="[object Array]",R="[object AsyncFunction]",C="[object Boolean]",M="[object Date]",w="[object Error]",b="[object Function]",x="[object GeneratorFunction]",L="[object Map]",$="[object Number]",g="[object Null]",_="[object Object]",F="[object Proxy]",E="[object RegExp]",A="[object Set]",N="[object String]",W="[object Undefined]",q="[object WeakMap]",j="[object ArrayBuffer]",J="[object DataView]",ue="[object Float32Array]",ge="[object Float64Array]",ye="[object Int8Array]",Re="[object Int16Array]",H="[object Int32Array]",B="[object Uint8Array]",U="[object Uint8ClampedArray]",K="[object Uint16Array]",Y="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,Q={};Q[ue]=Q[ge]=Q[ye]=Q[Re]=Q[H]=Q[B]=Q[U]=Q[K]=Q[Y]=!0,Q[u]=Q[y]=Q[j]=Q[C]=Q[J]=Q[M]=Q[w]=Q[b]=Q[L]=Q[$]=Q[_]=Q[E]=Q[A]=Q[N]=Q[q]=!1;var ve=typeof Ie=="object"&&Ie&&Ie.Object===Object&&Ie,we=typeof self=="object"&&self&&self.Object===Object&&self,S=ve||we||Function("return this")(),O=t&&!t.nodeType&&t,D=O&&!0&&e&&!e.nodeType&&e,X=D&&D.exports===O,te=X&&ve.process,h=function(){try{var l=D&&D.require&&D.require("util").types;return l||te&&te.binding&&te.binding("util")}catch{}}(),d=h&&h.isTypedArray;function P(l,v,T){switch(T.length){case 0:return l.call(v);case 1:return l.call(v,T[0]);case 2:return l.call(v,T[0],T[1]);case 3:return l.call(v,T[0],T[1],T[2])}return l.apply(v,T)}function z(l,v){for(var T=-1,G=Array(l);++T<l;)G[T]=v(T);return G}function fe(l){return function(v){return l(v)}}function f(l,v){return l==null?void 0:l[v]}function n(l,v){return function(T){return l(v(T))}}var o=Array.prototype,p=Function.prototype,m=Object.prototype,I=S["__core-js_shared__"],k=p.toString,Z=m.hasOwnProperty,ne=function(){var l=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),oe=m.toString,le=k.call(Object),ae=RegExp("^"+k.call(Z).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=X?S.Buffer:void 0,$e=S.Symbol,qe=S.Uint8Array,lt=me?me.allocUnsafe:void 0,ct=n(Object.getPrototypeOf,Object),ht=Object.create,Et=m.propertyIsEnumerable,St=o.splice,Ne=$e?$e.toStringTag:void 0,Ke=function(){try{var l=Mr(Object,"defineProperty");return l({},"",{}),l}catch{}}(),Rt=me?me.isBuffer:void 0,dt=Math.max,Ot=Date.now,pt=Mr(S,"Map"),He=Mr(Object,"create"),At=function(){function l(){}return function(v){if(!it(v))return{};if(ht)return ht(v);l.prototype=v;var T=new l;return l.prototype=void 0,T}}();function Pe(l){var v=-1,T=l==null?0:l.length;for(this.clear();++v<T;){var G=l[v];this.set(G[0],G[1])}}function Tt(){this.__data__=He?He(null):{},this.size=0}function xt(l){var v=this.has(l)&&delete this.__data__[l];return this.size-=v?1:0,v}function Ct(l){var v=this.__data__;if(He){var T=v[l];return T===i?void 0:T}return Z.call(v,l)?v[l]:void 0}function Lt(l){var v=this.__data__;return He?v[l]!==void 0:Z.call(v,l)}function Mt(l,v){var T=this.__data__;return this.size+=this.has(l)?0:1,T[l]=He&&v===void 0?i:v,this}Pe.prototype.clear=Tt,Pe.prototype.delete=xt,Pe.prototype.get=Ct,Pe.prototype.has=Lt,Pe.prototype.set=Mt;function Ae(l){var v=-1,T=l==null?0:l.length;for(this.clear();++v<T;){var G=l[v];this.set(G[0],G[1])}}function Nt(){this.__data__=[],this.size=0}function Pt(l){var v=this.__data__,T=Ve(v,l);if(T<0)return!1;var G=v.length-1;return T==G?v.pop():St.call(v,T,1),--this.size,!0}function It(l){var v=this.__data__,T=Ve(v,l);return T<0?void 0:v[T][1]}function jt(l){return Ve(this.__data__,l)>-1}function Bt(l,v){var T=this.__data__,G=Ve(T,l);return G<0?(++this.size,T.push([l,v])):T[G][1]=v,this}Ae.prototype.clear=Nt,Ae.prototype.delete=Pt,Ae.prototype.get=It,Ae.prototype.has=jt,Ae.prototype.set=Bt;function Be(l){var v=-1,T=l==null?0:l.length;for(this.clear();++v<T;){var G=l[v];this.set(G[0],G[1])}}function Ft(){this.size=0,this.__data__={hash:new Pe,map:new(pt||Ae),string:new Pe}}function kt(l){var v=cr(this,l).delete(l);return this.size-=v?1:0,v}function Dt(l){return cr(this,l).get(l)}function Ut(l){return cr(this,l).has(l)}function $t(l,v){var T=cr(this,l),G=T.size;return T.set(l,v),this.size+=T.size==G?0:1,this}Be.prototype.clear=Ft,Be.prototype.delete=kt,Be.prototype.get=Dt,Be.prototype.has=Ut,Be.prototype.set=$t;function Fe(l){var v=this.__data__=new Ae(l);this.size=v.size}function qt(){this.__data__=new Ae,this.size=0}function Ht(l){var v=this.__data__,T=v.delete(l);return this.size=v.size,T}function Wt(l){return this.__data__.get(l)}function zt(l){return this.__data__.has(l)}function Gt(l,v){var T=this.__data__;if(T instanceof Ae){var G=T.__data__;if(!pt||G.length<r-1)return G.push([l,v]),this.size=++T.size,this;T=this.__data__=new Be(G)}return T.set(l,v),this.size=T.size,this}Fe.prototype.clear=qt,Fe.prototype.delete=Ht,Fe.prototype.get=Wt,Fe.prototype.has=zt,Fe.prototype.set=Gt;function Kt(l,v){var T=Ir(l),G=!T&&Pr(l),se=!T&&!G&&xn(l),ce=!T&&!G&&!se&&Ln(l),de=T||G||se||ce,ie=de?z(l.length,String):[],pe=ie.length;for(var xe in l)(v||Z.call(l,xe))&&!(de&&(xe=="length"||se&&(xe=="offset"||xe=="parent")||ce&&(xe=="buffer"||xe=="byteLength"||xe=="byteOffset")||An(xe,pe)))&&ie.push(xe);return ie}function rt(l,v,T){(T!==void 0&&!hr(l[v],T)||T===void 0&&!(v in l))&&nt(l,v,T)}function Vt(l,v,T){var G=l[v];(!(Z.call(l,v)&&hr(G,T))||T===void 0&&!(v in l))&&nt(l,v,T)}function Ve(l,v){for(var T=l.length;T--;)if(hr(l[T][0],v))return T;return-1}function nt(l,v,T){v=="__proto__"&&Ke?Ke(l,v,{configurable:!0,enumerable:!0,value:T,writable:!0}):l[v]=T}var Jt=fo();function Je(l){return l==null?l===void 0?W:g:Ne&&Ne in Object(l)?lo(l):vo(l)}function gt(l){return Qt(l)&&Je(l)==u}function Yt(l){if(!it(l)||go(l))return!1;var v=Br(l)?ae:ee;return v.test(bo(l))}function Xt(l){return Qt(l)&&Cn(l.length)&&!!Q[Je(l)]}function Zi(l){if(!it(l))return yo(l);var v=Tn(l),T=[];for(var G in l)G=="constructor"&&(v||!Z.call(l,G))||T.push(G);return T}function On(l,v,T,G,se){l!==v&&Jt(v,function(ce,de){if(se||(se=new Fe),it(ce))eo(l,v,de,T,On,G,se);else{var ie=G?G(Nr(l,de),ce,de+"",l,v,se):void 0;ie===void 0&&(ie=ce),rt(l,de,ie)}},Mn)}function eo(l,v,T,G,se,ce,de){var ie=Nr(l,T),pe=Nr(v,T),xe=de.get(pe);if(xe){rt(l,T,xe);return}var Te=ce?ce(ie,pe,T+"",l,v,de):void 0,Zt=Te===void 0;if(Zt){var Fr=Ir(pe),kr=!Fr&&xn(pe),Pn=!Fr&&!kr&&Ln(pe);Te=pe,Fr||kr||Pn?Ir(ie)?Te=ie:Eo(ie)?Te=ao(ie):kr?(Zt=!1,Te=no(pe,!0)):Pn?(Zt=!1,Te=oo(pe,!0)):Te=[]:So(pe)||Pr(pe)?(Te=ie,Pr(ie)?Te=Ro(ie):(!it(ie)||Br(ie))&&(Te=co(pe))):Zt=!1}Zt&&(de.set(pe,Te),se(Te,pe,G,ce,de),de.delete(pe)),rt(l,T,Te)}function to(l,v){return mo(wo(l,v,Nn),l+"")}var ro=Ke?function(l,v){return Ke(l,"toString",{configurable:!0,enumerable:!1,value:Ao(v),writable:!0})}:Nn;function no(l,v){if(v)return l.slice();var T=l.length,G=lt?lt(T):new l.constructor(T);return l.copy(G),G}function io(l){var v=new l.constructor(l.byteLength);return new qe(v).set(new qe(l)),v}function oo(l,v){var T=v?io(l.buffer):l.buffer;return new l.constructor(T,l.byteOffset,l.length)}function ao(l,v){var T=-1,G=l.length;for(v||(v=Array(G));++T<G;)v[T]=l[T];return v}function so(l,v,T,G){var se=!T;T||(T={});for(var ce=-1,de=v.length;++ce<de;){var ie=v[ce],pe=G?G(T[ie],l[ie],ie,T,l):void 0;pe===void 0&&(pe=l[ie]),se?nt(T,ie,pe):Vt(T,ie,pe)}return T}function uo(l){return to(function(v,T){var G=-1,se=T.length,ce=se>1?T[se-1]:void 0,de=se>2?T[2]:void 0;for(ce=l.length>3&&typeof ce=="function"?(se--,ce):void 0,de&&ho(T[0],T[1],de)&&(ce=se<3?void 0:ce,se=1),v=Object(v);++G<se;){var ie=T[G];ie&&l(v,ie,G,ce)}return v})}function fo(l){return function(v,T,G){for(var se=-1,ce=Object(v),de=G(v),ie=de.length;ie--;){var pe=de[l?ie:++se];if(T(ce[pe],pe,ce)===!1)break}return v}}function cr(l,v){var T=l.__data__;return po(v)?T[typeof v=="string"?"string":"hash"]:T.map}function Mr(l,v){var T=f(l,v);return Yt(T)?T:void 0}function lo(l){var v=Z.call(l,Ne),T=l[Ne];try{l[Ne]=void 0;var G=!0}catch{}var se=oe.call(l);return G&&(v?l[Ne]=T:delete l[Ne]),se}function co(l){return typeof l.constructor=="function"&&!Tn(l)?At(ct(l)):{}}function An(l,v){var T=typeof l;return v=v??c,!!v&&(T=="number"||T!="symbol"&&re.test(l))&&l>-1&&l%1==0&&l<v}function ho(l,v,T){if(!it(T))return!1;var G=typeof v;return(G=="number"?jr(T)&&An(v,T.length):G=="string"&&v in T)?hr(T[v],l):!1}function po(l){var v=typeof l;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?l!=="__proto__":l===null}function go(l){return!!ne&&ne in l}function Tn(l){var v=l&&l.constructor,T=typeof v=="function"&&v.prototype||m;return l===T}function yo(l){var v=[];if(l!=null)for(var T in Object(l))v.push(T);return v}function vo(l){return oe.call(l)}function wo(l,v,T){return v=dt(v===void 0?l.length-1:v,0),function(){for(var G=arguments,se=-1,ce=dt(G.length-v,0),de=Array(ce);++se<ce;)de[se]=G[v+se];se=-1;for(var ie=Array(v+1);++se<v;)ie[se]=G[se];return ie[v]=T(de),P(l,this,ie)}}function Nr(l,v){if(!(v==="constructor"&&typeof l[v]=="function")&&v!="__proto__")return l[v]}var mo=_o(ro);function _o(l){var v=0,T=0;return function(){var G=Ot(),se=s-(G-T);if(T=G,se>0){if(++v>=a)return arguments[0]}else v=0;return l.apply(void 0,arguments)}}function bo(l){if(l!=null){try{return k.call(l)}catch{}try{return l+""}catch{}}return""}function hr(l,v){return l===v||l!==l&&v!==v}var Pr=gt(function(){return arguments}())?gt:function(l){return Qt(l)&&Z.call(l,"callee")&&!Et.call(l,"callee")},Ir=Array.isArray;function jr(l){return l!=null&&Cn(l.length)&&!Br(l)}function Eo(l){return Qt(l)&&jr(l)}var xn=Rt||To;function Br(l){if(!it(l))return!1;var v=Je(l);return v==b||v==x||v==R||v==F}function Cn(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=c}function it(l){var v=typeof l;return l!=null&&(v=="object"||v=="function")}function Qt(l){return l!=null&&typeof l=="object"}function So(l){if(!Qt(l)||Je(l)!=_)return!1;var v=ct(l);if(v===null)return!0;var T=Z.call(v,"constructor")&&v.constructor;return typeof T=="function"&&T instanceof T&&k.call(T)==le}var Ln=d?fe(d):Xt;function Ro(l){return so(l,Mn(l))}function Mn(l){return jr(l)?Kt(l,!0):Zi(l)}var Oo=uo(function(l,v,T){On(l,v,T)});function Ao(l){return function(){return l}}function Nn(l){return l}function To(){return!1}e.exports=Oo})(Ws,br);const Wi=br;var Er={},zs={get exports(){return Er},set exports(e){Er=e}};(function(e){(function(t,r){e.exports?e.exports=r():t.log=r()})(Ie,function(){var t=function(){},r="undefined",i=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),a=["trace","debug","info","warn","error"];function s(L,$){var g=L[$];if(typeof g.bind=="function")return g.bind(L);try{return Function.prototype.bind.call(g,L)}catch{return function(){return Function.prototype.apply.apply(g,[L,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(L){return L==="debug"&&(L="log"),typeof console===r?!1:L==="trace"&&i?c:console[L]!==void 0?s(console,L):console.log!==void 0?s(console,"log"):t}function y(L,$){for(var g=0;g<a.length;g++){var _=a[g];this[_]=g<L?t:this.methodFactory(_,L,$)}this.log=this.debug}function R(L,$,g){return function(){typeof console!==r&&(y.call(this,$,g),this[L].apply(this,arguments))}}function C(L,$,g){return u(L)||R.apply(this,arguments)}function M(L,$,g){var _=this,F;$=$??"WARN";var E="loglevel";typeof L=="string"?E+=":"+L:typeof L=="symbol"&&(E=void 0);function A(j){var J=(a[j]||"silent").toUpperCase();if(!(typeof window===r||!E)){try{window.localStorage[E]=J;return}catch{}try{window.document.cookie=encodeURIComponent(E)+"="+J+";"}catch{}}}function N(){var j;if(!(typeof window===r||!E)){try{j=window.localStorage[E]}catch{}if(typeof j===r)try{var J=window.document.cookie,ue=J.indexOf(encodeURIComponent(E)+"=");ue!==-1&&(j=/^([^;]+)/.exec(J.slice(ue))[1])}catch{}return _.levels[j]===void 0&&(j=void 0),j}}function W(){if(!(typeof window===r||!E)){try{window.localStorage.removeItem(E);return}catch{}try{window.document.cookie=encodeURIComponent(E)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}_.name=L,_.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},_.methodFactory=g||C,_.getLevel=function(){return F},_.setLevel=function(j,J){if(typeof j=="string"&&_.levels[j.toUpperCase()]!==void 0&&(j=_.levels[j.toUpperCase()]),typeof j=="number"&&j>=0&&j<=_.levels.SILENT){if(F=j,J!==!1&&A(j),y.call(_,j,L),typeof console===r&&j<_.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+j},_.setDefaultLevel=function(j){$=j,N()||_.setLevel(j,!1)},_.resetLevel=function(){_.setLevel($,!1),W()},_.enableAll=function(j){_.setLevel(_.levels.TRACE,j)},_.disableAll=function(j){_.setLevel(_.levels.SILENT,j)};var q=N();q==null&&(q=$),_.setLevel(q,!1)}var w=new M,b={};w.getLogger=function($){if(typeof $!="symbol"&&typeof $!="string"||$==="")throw new TypeError("You must supply a name when creating a logger.");var g=b[$];return g||(g=b[$]=new M($,w.getLevel(),w.methodFactory)),g};var x=typeof window!==r?window.log:void 0;return w.noConflict=function(){return typeof window!==r&&window.log===w&&(window.log=x),w},w.getLoggers=function(){return b},w.default=w,w})})(zs);const zi=Er;function ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ci(Object(r),!0).forEach(function(i){he(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ci(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const cn=zi.getLogger("http-helpers");cn.setLevel(Er.levels.INFO);let hn="torus-default";const Gs="x-api-key";function Ru(e){hn=e}async function Gi(e,t){let r=null;try{r=new URL(e)}catch{}return fetch(e,t)}function Ki(){const e={};return hn&&(e[Gs]=hn),e}function Vi(e){cn.info("Response: ".concat(e.status," ").concat(e.statusText)),cn.info("Url: ".concat(e.url))}const Ks=(e,t)=>{const r=new Promise((i,a)=>{const s=setTimeout(()=>{clearTimeout(s),a(new Error("Timed out in ".concat(e,"ms")))},e)});return Promise.race([t,r])},Ou=async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i={mode:"cors",headers:{}};r.useAPIKey&&(i.headers=Sr(Sr({},i.headers),Ki()));const a=Wi(i,t,{method:"GET"}),s=await Gi(e,a);if(s.ok)return s.json();throw Vi(s),s},Ji=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};i.useAPIKey&&(a.headers=Sr(Sr({},a.headers),Ki()));const s=Wi(a,r,{method:"POST"});return i.isUrlEncodedData?(s.body=t,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(t),Ks(i.timeout||6e4,Gi(e,s).then(c=>{if(c.ok)return c.json();throw Vi(c),c}))};function dn(e){this.message=e}dn.prototype=new Error,dn.prototype.name="InvalidCharacterError";var hi=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new dn("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,a=0,s=0,c="";i=t.charAt(s++);~i&&(r=a%4?64*r+i:i,a++%4)?c+=String.fromCharCode(255&r>>(-2*a&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return c};function Vs(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(r){return decodeURIComponent(hi(r).replace(/(.)/g,function(i,a){var s=a.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}(t)}catch{return hi(t)}}function Rr(e){this.message=e}function Js(e,t){if(typeof e!="string")throw new Rr("Invalid token specified");var r=(t=t||{}).header===!0?0:1;try{return JSON.parse(Vs(e.split(".")[r]))}catch(i){throw new Rr("Invalid token specified: "+i.message)}}Rr.prototype=new Error,Rr.prototype.name="InvalidTokenError";const at={EIP155:"eip155",SOLANA:"solana",OTHER:"other"},Au={EIP155:"eip155",SOLANA:"solana",MULTICHAIN:"multichain"},rr="776218ac4734478c90191dde8cae483c",Ys=e=>{if(e===at.EIP155)return 1;if(e===at.SOLANA)return 1;throw new Error("Chain namespace ".concat(e," is not supported"))},Xs=e=>{const t=at.EIP155;return e===1?{chainNamespace:t,chainId:"0x1",rpcTarget:"https://mainnet.infura.io/v3/".concat(rr),displayName:"Ethereum Mainnet",blockExplorer:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:e===3?{chainNamespace:t,chainId:"0x3",rpcTarget:"https://ropsten.infura.io/v3/".concat(rr),displayName:"ropsten",blockExplorer:"https://ropsten.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:e===4?{chainNamespace:t,chainId:"0x4",rpcTarget:"https://rinkeby.infura.io/v3/".concat(rr),displayName:"rinkeby",blockExplorer:"https://rinkeby.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:e===5?{chainNamespace:t,chainId:"0x5",rpcTarget:"https://goerli.infura.io/v3/".concat(rr),displayName:"goerli",blockExplorer:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:e===42?{chainNamespace:t,chainId:"0x2a",rpcTarget:"https://kovan.infura.io/v3/".concat(rr),displayName:"kovan",blockExplorer:"https://kovan.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:e===137?{chainNamespace:t,rpcTarget:"https://polygon-rpc.com",blockExplorer:"https://polygonscan.com",chainId:"0x89",displayName:"Polygon Mainnet",ticker:"matic",tickerName:"matic"}:e===80001?{chainNamespace:t,rpcTarget:"https://rpc-mumbai.maticvigil.com",blockExplorer:"https://mumbai-explorer.matic.today",chainId:"0x13881",displayName:"Polygon Mumbai Testnet",ticker:"matic",tickerName:"matic"}:e===56?{chainNamespace:t,rpcTarget:"https://bsc-dataseed.binance.org",blockExplorer:"https://bscscan.com",chainId:"0x38",displayName:"Binance SmartChain Mainnet",ticker:"BNB",tickerName:"BNB"}:e===97?{chainNamespace:t,rpcTarget:"https://data-seed-prebsc-2-s3.binance.org:8545",blockExplorer:"https://testnet.bscscan.com",chainId:"0x61",displayName:"Binance SmartChain Testnet",ticker:"BNB",tickerName:"BNB"}:null},Qs=e=>{const t=at.SOLANA;return e===1?{chainNamespace:t,blockExplorer:"https://explorer.solana.com",chainId:"0x1",displayName:"Solana Mainnet",rpcTarget:"https://api.mainnet-beta.solana.com",ticker:"SOL",tickerName:"Solana Token"}:e===2?{rpcTarget:"https://api.testnet.solana.com",blockExplorer:"https://explorer.solana.com?cluster=testnet",chainId:"0x2",chainNamespace:t,displayName:"testnet",ticker:"SOL",tickerName:"solana"}:e===3?{rpcTarget:"https://api.devnet.solana.com",blockExplorer:"https://explorer.solana.com?cluster=devnet",chainId:"0x3",chainNamespace:t,displayName:"devnet",ticker:"SOL",tickerName:"solana"}:null},Zs=(e,t)=>{if(e===at.OTHER)return null;const r=t?typeof t=="number"?t:parseInt(t,16):Ys(e);return e===at.EIP155?Xs(r):e===at.SOLANA?Qs(r):null};class Yi extends Hs{constructor(t,r){super(r),he(this,"code",void 0),he(this,"message",void 0),this.code=t,this.message=r||"",Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class be extends Yi{constructor(t,r){super(t,r),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new be(t,"".concat(be.messages[t],", ").concat(r))}static notFound(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5001,t)}static notInstalled(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5002,t)}static notReady(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5003,t)}static windowBlocked(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5004,t)}static windowClosed(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5005,t)}static incompatibleChainNameSpace(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5006,t)}static duplicateAdapterError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5007,t)}static invalidProviderConfigError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5008,t)}static providerNotReadyError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5009,t)}static rpcConnectionError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5010,t)}static invalidParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5011,t)}static invalidNetwork(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return be.fromCode(5013,t)}}he(be,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class De extends Yi{constructor(t,r){super(t,r),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new De(t,"".concat(De.messages[t]).concat(r))}static connectionError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return De.fromCode(5111,t)}static disconnectionError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return De.fromCode(5112,t)}static notConnectedError(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return De.fromCode(5113,t)}static popupClosed(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return De.fromCode(5114,t)}}he(De,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user"});function di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?di(Object(r),!0).forEach(function(i){he(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const Xi={OPENLOGIN:"openlogin",WALLET_CONNECT_V1:"wallet-connect-v1",WALLET_CONNECT_V2:"wallet-connect-v2"},eu=Or({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLLET:"sollet",SOLLET_EXTENSION:"sollet-extension",SOLFLARE:"solflare",SLOPE:"slope"},Xi),tu=Or({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},Xi),ru=Or(Or({},tu),eu);function pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pi(Object(r),!0).forEach(function(i){he(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pi(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const Tu={EXTERNAL:"external",IN_APP:"in_app"},We={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},nu=ir(ir({},We),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated"});class xu extends Sn{constructor(){super(...arguments),he(this,"adapterData",{}),he(this,"sessionTime",86400),he(this,"chainConfig",null)}get chainConfigProxy(){return this.chainConfig?ir({},this.chainConfig):null}setChainConfig(t){if(this.status===We.READY)return;if(!t.chainNamespace)throw be.notReady("ChainNamespace is required while setting chainConfig");const r=Zs(t.chainNamespace,t.chainId);this.chainConfig=ir(ir({},r),t)}setAdapterSettings(t){}checkConnectionRequirements(){if(!(this.name===ru.WALLET_CONNECT_V1&&this.status===We.CONNECTING)){if(this.status===We.CONNECTING)throw be.notReady("Already connecting");if(this.status===We.CONNECTED)throw De.connectionError("Already connected");if(this.status!==We.READY)throw De.connectionError("Wallet adapter is not ready yet")}}checkInitializationRequirements(){if(this.status!==We.NOT_READY){if(this.status===We.CONNECTED)throw be.notReady("Already connected");if(this.status===We.READY)throw be.notReady("Adapter is already initialized")}}updateAdapterData(t){this.adapterData=t,this.emit(nu.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:t})}}const Qi="https://auth-js-backend.tor.us";var iu=zi.getLogger("web3auth-logger");function Rn(e){let t=!1,r=0,i;try{i=window[e],t=!0,r=i.length;const a="__storage_test__";return i.setItem(a,a),i.removeItem(a),!0}catch(a){const s=a;return!!(s&&(s.code===22||s.code===1014||s.name==="QuotaExceededError"||s.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&r!==0)}}const Cu=e=>(typeof e=="string"||typeof e=="number")&&/^(-)?0x[0-9a-f]*$/i.test(e),Lu=e=>{const t=Js(e);return!t.exp||t.exp<Math.floor(Date.now()/1e3)},Mu=async(e,t)=>{const s={payload:e,header:{t:t==="solana"?"sip99":"eip191"},network:t==="solana"?"solana":"ethereum"},c=await Ji("".concat(Qi,"/siww/get"),s);if(!c.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return c.challenge},Nu=async(e,t,r,i,a)=>{const c={signature:{s:t,t:e==="solana"?"sip99":"eip191"},message:r,issuer:i,audience:window.location.hostname,timeout:a},u=await Ji("".concat(Qi,"/siww/verify"),c);if(!u.success)throw iu.error("Failed to authenticate user, ,message verification failed",u.error),new Error("Failed to authenticate user, ,message verification failed");return u.token},Pu=(e,t)=>Rn("localStorage")?localStorage.getItem("".concat(e.toLowerCase(),"_").concat(t)):null,Iu=(e,t,r)=>Rn("localStorage")?localStorage.setItem("".concat(e.toLowerCase(),"_").concat(t),r):null,ju=(e,t)=>Rn("localStorage")?localStorage.removeItem("".concat(e.toLowerCase(),"_").concat(t)):null;export{Ru as $,We as A,vu as B,at as C,vs as D,tu as E,mu as F,Wa as G,ke as H,_e as I,Ls as J,Ou as K,gu as L,Mi as M,pu as N,yu as O,Su as P,Ee as Q,tt as R,Sn as S,st as T,Zo as U,Bs as V,be as W,fn as X,_s as Y,za as Z,or as _,Se as a,Yi as a0,xu as a1,Pu as a2,Lu as a3,Mu as a4,Nu as a5,Iu as a6,ju as a7,ar as a8,ze as a9,Ar as aa,yn as ab,Lo as ac,uu as ad,su as ae,fu as af,lu as ag,cu as ah,hu as ai,au as aj,Cu as ak,bu as al,_u as am,rn as an,Ha as ao,wu as ap,ou as b,Ie as c,gn as d,lr as e,he as f,xo as g,Zs as h,Au as i,De as j,nu as k,iu as l,ru as m,Wi as n,eu as o,Tu as p,zi as q,pn as r,Rn as s,Ze as t,Qe as u,du as v,je as w,Eu as x,Yr as y,et as z};
